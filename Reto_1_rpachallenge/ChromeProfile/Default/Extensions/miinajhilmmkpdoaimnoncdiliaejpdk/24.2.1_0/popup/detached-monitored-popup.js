/*! For license information please see detached-monitored-popup.js.LICENSE.txt */
(()=>{var __webpack_modules__={770:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,s=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(e){if(s)if(s=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){s&&(s=!1,a(e))}}))}},472:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),i=new Array(123),s=0;s<64;)i[r[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(e,t,n){for(var i,s=null,a=[],o=0,l=0;t<n;){var c=e[t++];switch(l){case 0:a[o++]=r[c>>2],i=(3&c)<<4,l=1;break;case 1:a[o++]=r[i|c>>4],i=(15&c)<<2,l=2;break;case 2:a[o++]=r[i|c>>6],a[o++]=r[63&c],l=0}o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),o=0)}return l&&(a[o++]=r[i],a[o++]=61,1===l&&(a[o++]=61)),s?(o&&s.push(String.fromCharCode.apply(String,a.slice(0,o))),s.join("")):String.fromCharCode.apply(String,a.slice(0,o))};var a="invalid encoding";n.decode=function(e,t,n){for(var r,s=n,o=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61===c&&o>1)break;if(void 0===(c=i[c]))throw Error(a);switch(o){case 0:r=c,o=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,o=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,o=3;break;case 3:t[n++]=(3&r)<<6|c,o=0}}if(1===o)throw Error(a);return n-s},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},620:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},673:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function s(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function o(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:s,e.writeFloatBE=r?s:i,e.readFloatLE=r?a:o,e.readFloatBE=r?o:a}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var s=Math.floor(Math.log(t)/Math.LN2);e((i<<31|s+127<<23|8388607&Math.round(t*Math.pow(2,-s)*8388608))>>>0,n,r)}}function a(e,t,n){var r=e(t,n),i=2*(r>>31)+1,s=r>>>23&255,a=8388607&r;return 255===s?a?NaN:i*(1/0):0===s?1401298464324817e-60*i*a:i*Math.pow(2,s-150)*(a+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=a.bind(null,i),e.readFloatBE=a.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function s(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function o(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:s,e.writeDoubleBE=r?s:i,e.readDoubleLE=r?a:o,e.readDoubleBE=r?o:a}():function(){function t(e,t,n,r,i,s){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,s+t),e(1/r>0?0:2147483648,i,s+n);else if(isNaN(r))e(0,i,s+t),e(2146959360,i,s+n);else if(r>17976931348623157e292)e(0,i,s+t),e((a<<31|2146435072)>>>0,i,s+n);else{var o;if(r<22250738585072014e-324)e((o=r/5e-324)>>>0,i,s+t),e((a<<31|o/4294967296)>>>0,i,s+n);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(o=r*Math.pow(2,-l))>>>0,i,s+t),e((a<<31|l+1023<<20|1048576*o&1048575)>>>0,i,s+n)}}}function a(e,t,n,r,i){var s=e(r,i+t),a=e(r,i+n),o=2*(a>>31)+1,l=a>>>20&2047,c=4294967296*(1048575&a)+s;return 2047===l?c?NaN:o*(1/0):0===l?5e-324*o*c:o*Math.pow(2,l-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=a.bind(null,i,0,4),e.readDoubleBE=a.bind(null,s,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},947:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},9:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,s=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(s=e(r),a=0);var o=t.call(s,a,a+=n);return 7&a&&(a=1+(7|a)),o}}},244:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,s=[],a=0;t<n;)(r=e[t++])<128?s[a++]=r:r>191&&r<224?s[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[a++]=55296+(r>>10),s[a++]=56320+(1023&r)):s[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))},n.write=function(e,t,n){for(var r,i,s=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-s}},234:(e,t,n)=>{"use strict";e.exports=n(728)},728:(e,t,n)=>{"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(243),r.BufferWriter=n(664),r.Reader=n(148),r.BufferReader=n(759),r.util=n(190),r.rpc=n(562),r.roots=n(981),r.configure=i,i()},148:(e,t,n)=>{"use strict";e.exports=l;var r,i=n(190),s=i.LongBits,a=i.utf8;function o(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var c,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},d=function(){return i.Buffer?function(e){return(l.create=function(e){return i.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function h(){var e=new s(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw o(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw o(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw o(this,8);return new s(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}l.create=d(),l.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,l.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return c}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return p(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return 0|p(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw o(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},l.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw o(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw o(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){r=e,l.create=d(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(l.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},759:(e,t,n)=>{"use strict";e.exports=s;var r=n(148);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(190);function s(e){r.call(this,e)}s._configure=function(){i.Buffer&&(s.prototype._slice=i.Buffer.prototype.slice)},s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},s._configure()},981:e=>{"use strict";e.exports={}},562:(e,t,n)=>{"use strict";t.Service=n(576)},576:(e,t,n)=>{"use strict";e.exports=i;var r=n(190);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,s,a){if(!s)throw TypeError("request must be specified");var o=this;if(!a)return r.asPromise(e,o,t,n,i,s);if(o.rpcImpl)try{return o.rpcImpl(t,n[o.requestDelimited?"encodeDelimited":"encode"](s).finish(),(function(e,n){if(e)return o.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof i))try{n=i[o.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return o.emit("error",e,t),a(e)}return o.emit("data",n,t),a(null,n)}o.end(!0)}))}catch(e){return o.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},551:(e,t,n)=>{"use strict";e.exports=i;var r=n(190);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):s},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var o=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?s:new i((o.call(e,0)|o.call(e,1)<<8|o.call(e,2)<<16|o.call(e,3)<<24)>>>0,(o.call(e,4)|o.call(e,5)<<8|o.call(e,6)<<16|o.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},190:function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function s(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}r.asPromise=n(770),r.base64=n(472),r.EventEmitter=n(620),r.float=n(673),r.inquire=n(947),r.utf8=n(244),r.pool=n(9),r.LongBits=n(551),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=s,r.ProtocolError=s("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},243:(e,t,n)=>{"use strict";e.exports=d;var r,i=n(190),s=i.LongBits,a=i.base64,o=i.utf8;function l(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function c(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function p(e,t,n){t[n]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function _(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=h(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new l(e,t,n),this.len+=t,this},f.prototype=Object.create(l.prototype),f.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(m,10,s.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=s.from(e);return this._push(m,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=s.from(e).zzEncode();return this._push(m,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(_,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=s.from(e);return this._push(_,4,t.lo)._push(_,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var g=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var n=d.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(g,t,e)},d.prototype.string=function(e){var t=o.length(e);return t?this.uint32(t)._push(o.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new l(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=h(),r._configure()}},664:(e,t,n)=>{"use strict";e.exports=s;var r=n(243);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(190);function s(){r.call(this)}function a(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}s._configure=function(){s.alloc=i._Buffer_allocUnsafe,s.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},s.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s.writeBytesBuffer,t,e),this},s.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},s._configure()},875:function(e,t){var n,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},s=e=>1==e?"argument":"arguments",a=(e,t,n)=>new Proxy(t,{apply:(t,r,i)=>n.call(r,e,...i)});let o=Function.call.bind(Object.prototype.hasOwnProperty);const l=(e,t={},n={})=>{let r=Object.create(null),c={has:(t,n)=>n in e||n in r,get(c,u,d){if(u in r)return r[u];if(!(u in e))return;let h=e[u];if("function"==typeof h)if("function"==typeof t[u])h=a(e,e[u],t[u]);else if(o(n,u)){let t=((e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((s,a)=>{if(t.fallbackToNoCallback)try{n[e](...r,i({resolve:s,reject:a},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,s()}else t.noCallback?(n[e](...r),s()):n[e](...r,i({resolve:s,reject:a},t))}))})(u,n[u]);h=a(e,e[u],t)}else h=h.bind(e);else if("object"==typeof h&&null!==h&&(o(t,u)||o(n,u)))h=l(h,t[u],n[u]);else{if(!o(n,"*"))return Object.defineProperty(r,u,{configurable:!0,enumerable:!0,get:()=>e[u],set(t){e[u]=t}}),h;h=l(h,t[u],n["*"])}return r[u]=h,h},set:(t,n,i,s)=>(n in r?r[n]=i:e[n]=i,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},u=Object.create(e);return new Proxy(u,c)},c=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),u=new r((e=>"function"!=typeof e?e:function(t){const n=l(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),d=new r((e=>"function"!=typeof e?e:function(t,n,r){let i,s,a=!1,o=new Promise((e=>{i=function(t){a=!0,e(t)}}));try{s=e(t,n,i)}catch(e){s=Promise.reject(e)}const l=!0!==s&&((c=s)&&"object"==typeof c&&"function"==typeof c.then);var c;if(!0!==s&&!l&&!a)return!1;return(l?s:o).then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),h=({reject:n,resolve:r},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?n(new Error(i.message)):r(i)},p=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const i=h.bind(null,{resolve:e,reject:t});r.push(i),n.sendMessage(...r)}))},f={devtools:{network:{onRequestFinished:c(u)}},runtime:{onMessage:c(d),onMessageExternal:c(d),sendMessage:p.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:p.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},m={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":m},services:{"*":m},websites:{"*":m}},l(e,f,n)};e.exports=n(chrome)}else e.exports=globalThis.browser},void 0===(r=n.apply(t,[e]))||(e.exports=r)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{"use strict";var e,t,n,r,i,s,a,o,l={},c=[],u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,d=Array.isArray;function h(e,t){for(var n in t)e[n]=t[n];return e}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function f(e,r,i,s,a){var o={type:e,props:r,key:i,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++n:a};return null==a&&null!=t.vnode&&t.vnode(o),o}function m(e){return e.children}function _(e,t){this.props=e,this.context=t}function g(e,t){if(null==t)return e.__?g(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__d||n.__e;return"function"==typeof e.type?g(e):null}function v(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return v(e)}}function y(e){(!e.__d&&(e.__d=!0)&&r.push(e)&&!E.__r++||i!==t.debounceRendering)&&((i=t.debounceRendering)||s)(E)}function E(){var e,t,n,i,s,o,l,c,u;for(r.sort(a);e=r.shift();)e.__d&&(t=r.length,i=void 0,s=void 0,o=void 0,c=(l=(n=e).__v).__e,(u=n.__P)&&(i=[],s=[],(o=h({},l)).__v=l.__v+1,N(u,l,o,n.__n,void 0!==u.ownerSVGElement,null!=l.__h?[c]:null,i,null==c?g(l):c,l.__h,s),k(i,l,s),l.__e!=c&&v(l)),r.length>t&&r.sort(a));E.__r=0}function b(e,t,n,r,i,s,a,o,u,h,p){var _,v,y,E,b,x,C,S,O,k=0,R=r&&r.__k||c,L=R.length,D=L,U=t.length;for(n.__k=[],_=0;_<U;_++)null!=(E=n.__k[_]=null==(E=t[_])||"boolean"==typeof E||"function"==typeof E?null:"string"==typeof E||"number"==typeof E||"bigint"==typeof E?f(null,E,null,null,E):d(E)?f(m,{children:E},null,null,null):E.__b>0?f(E.type,E.props,E.key,E.ref?E.ref:null,E.__v):E)?(E.__=n,E.__b=n.__b+1,-1===(S=w(E,R,C=_+k,D))?y=l:(y=R[S]||l,R[S]=void 0,D--),N(e,E,y,i,s,a,o,u,h,p),b=E.__e,(v=E.ref)&&y.ref!=v&&(y.ref&&I(y.ref,null,E),p.push(v,E.__c||b,E)),null!=b&&(null==x&&(x=b),(O=y===l||null===y.__v)?-1==S&&k--:S!==C&&(S===C+1?k++:S>C?D>U-C?k+=S-C:k--:k=S<C&&S==C-1?S-C:0),C=_+k,"function"!=typeof E.type||S===C&&y.__k!==E.__k?"function"==typeof E.type||S===C&&!O?void 0!==E.__d?(u=E.__d,E.__d=void 0):u=b.nextSibling:u=A(e,b,u):u=T(E,u,e),"function"==typeof n.type&&(n.__d=u))):(y=R[_])&&null==y.key&&y.__e&&(y.__e==u&&(y.__=r,u=g(y)),P(y,y,!1),R[_]=null);for(n.__e=x,_=L;_--;)null!=R[_]&&("function"==typeof n.type&&null!=R[_].__e&&R[_].__e==n.__d&&(n.__d=R[_].__e.nextSibling),P(R[_],R[_]))}function T(e,t,n){for(var r,i=e.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=e,t="function"==typeof r.type?T(r,t,n):A(n,r.__e,t));return t}function A(e,t,n){return null==n||n.parentNode!==e?e.insertBefore(t,null):t==n&&null!=t.parentNode||e.insertBefore(t,n),t.nextSibling}function w(e,t,n,r){var i=e.key,s=e.type,a=n-1,o=n+1,l=t[n];if(null===l||l&&i==l.key&&s===l.type)return n;if(r>(null!=l?1:0))for(;a>=0||o<t.length;){if(a>=0){if((l=t[a])&&i==l.key&&s===l.type)return a;a--}if(o<t.length){if((l=t[o])&&i==l.key&&s===l.type)return o;o++}}return-1}function x(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||u.test(t)?n:n+"px"}function C(e,t,n,r,i){var s;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||x(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||x(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,s?O:S,s)):e.removeEventListener(t,s?O:S,s);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function S(e){var n=this.l[e.type+!1];if(e.t){if(e.t<=n.u)return}else e.t=Date.now();return n(t.event?t.event(e):e)}function O(e){return this.l[e.type+!0](t.event?t.event(e):e)}function N(e,n,r,i,s,a,o,l,c,u){var p,f,g,v,y,E,T,A,w,x,C,S,O,N,k,I=n.type;if(void 0!==n.constructor)return null;null!=r.__h&&(c=r.__h,l=n.__e=r.__e,n.__h=null,a=[l]),(p=t.__b)&&p(n);e:if("function"==typeof I)try{if(A=n.props,w=(p=I.contextType)&&i[p.__c],x=p?w?w.props.value:p.__:i,r.__c?T=(f=n.__c=r.__c).__=f.__E:("prototype"in I&&I.prototype.render?n.__c=f=new I(A,x):(n.__c=f=new _(A,x),f.constructor=I,f.render=L),w&&w.sub(f),f.props=A,f.state||(f.state={}),f.context=x,f.__n=i,g=f.__d=!0,f.__h=[],f._sb=[]),null==f.__s&&(f.__s=f.state),null!=I.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=h({},f.__s)),h(f.__s,I.getDerivedStateFromProps(A,f.__s))),v=f.props,y=f.state,f.__v=n,g)null==I.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==I.getDerivedStateFromProps&&A!==v&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(A,x),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(A,f.__s,x)||n.__v===r.__v)){for(n.__v!==r.__v&&(f.props=A,f.state=f.__s,f.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.forEach((function(e){e&&(e.__=n)})),C=0;C<f._sb.length;C++)f.__h.push(f._sb[C]);f._sb=[],f.__h.length&&o.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(A,f.__s,x),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(v,y,E)}))}if(f.context=x,f.props=A,f.__P=e,f.__e=!1,S=t.__r,O=0,"prototype"in I&&I.prototype.render){for(f.state=f.__s,f.__d=!1,S&&S(n),p=f.render(f.props,f.state,f.context),N=0;N<f._sb.length;N++)f.__h.push(f._sb[N]);f._sb=[]}else do{f.__d=!1,S&&S(n),p=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++O<25);f.state=f.__s,null!=f.getChildContext&&(i=h(h({},i),f.getChildContext())),g||null==f.getSnapshotBeforeUpdate||(E=f.getSnapshotBeforeUpdate(v,y)),b(e,d(k=null!=p&&p.type===m&&null==p.key?p.props.children:p)?k:[k],n,r,i,s,a,o,l,c,u),f.base=n.__e,n.__h=null,f.__h.length&&o.push(f),T&&(f.__E=f.__=null)}catch(e){n.__v=null,(c||null!=a)&&(n.__e=l,n.__h=!!c,a[a.indexOf(l)]=null),t.__e(e,n,r)}else null==a&&n.__v===r.__v?(n.__k=r.__k,n.__e=r.__e):n.__e=R(r.__e,n,r,i,s,a,o,c,u);(p=t.diffed)&&p(n)}function k(e,n,r){for(var i=0;i<r.length;i++)I(r[i],r[++i],r[++i]);t.__c&&t.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){t.__e(e,n.__v)}}))}function R(t,n,r,i,s,a,o,c,u){var h,f,m,_=r.props,v=n.props,y=n.type,E=0;if("svg"===y&&(s=!0),null!=a)for(;E<a.length;E++)if((h=a[E])&&"setAttribute"in h==!!y&&(y?h.localName===y:3===h.nodeType)){t=h,a[E]=null;break}if(null==t){if(null===y)return document.createTextNode(v);t=s?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,v.is&&v),a=null,c=!1}if(null===y)_===v||c&&t.data===v||(t.data=v);else{if(a=a&&e.call(t.childNodes),f=(_=r.props||l).dangerouslySetInnerHTML,m=v.dangerouslySetInnerHTML,!c){if(null!=a)for(_={},E=0;E<t.attributes.length;E++)_[t.attributes[E].name]=t.attributes[E].value;(m||f)&&(m&&(f&&m.__html==f.__html||m.__html===t.innerHTML)||(t.innerHTML=m&&m.__html||""))}if(function(e,t,n,r,i){var s;for(s in n)"children"===s||"key"===s||s in t||C(e,s,null,n[s],r);for(s in t)i&&"function"!=typeof t[s]||"children"===s||"key"===s||"value"===s||"checked"===s||n[s]===t[s]||C(e,s,t[s],n[s],r)}(t,v,_,s,c),m)n.__k=[];else if(b(t,d(E=n.props.children)?E:[E],n,r,i,s&&"foreignObject"!==y,a,o,a?a[0]:r.__k&&g(r,0),c,u),null!=a)for(E=a.length;E--;)null!=a[E]&&p(a[E]);c||("value"in v&&void 0!==(E=v.value)&&(E!==t.value||"progress"===y&&!E||"option"===y&&E!==_.value)&&C(t,"value",E,_.value,!1),"checked"in v&&void 0!==(E=v.checked)&&E!==t.checked&&C(t,"checked",E,_.checked,!1))}return t}function I(e,n,r){try{"function"==typeof e?e(n):e.current=n}catch(e){t.__e(e,r)}}function P(e,n,r){var i,s;if(t.unmount&&t.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||I(i,null,n)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){t.__e(e,n)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(s=0;s<i.length;s++)i[s]&&P(i[s],n,r||"function"!=typeof e.type);r||null==e.__e||p(e.__e),e.__=e.__e=e.__d=void 0}function L(e,t,n){return this.constructor(e,n)}function D(e,t){var n={__c:t="__cC"+o++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,y(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}e=c.slice,t={__e:function(e,t,n,r){for(var i,s,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},n=0,_.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof e&&(e=e(h({},n),this.props)),e&&h(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),y(this))},_.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),y(this))},_.prototype.render=m,r=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,a=function(e,t){return e.__v.__b-t.__v.__b},E.__r=0,o=0;var U=0;function M(e,n,r,i,s,a){var o,l,c={};for(l in n)"ref"==l?o=n[l]:c[l]=n[l];var u={type:e,props:c,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--U,__source:s,__self:a};if("function"==typeof e&&(o=e.defaultProps))for(l in o)void 0===c[l]&&(c[l]=o[l]);return t.vnode&&t.vnode(u),u}var F,B,Z,V,Y=0,j=[],$=[],W=t.__b,H=t.__r,G=t.diffed,q=t.__c,K=t.unmount;function z(e,n){t.__h&&t.__h(B,e,Y||n),Y=0;var r=B.__H||(B.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({__V:$}),r.__[e]}function J(e){return Y=1,X(ue,e)}function X(e,t,n){var r=z(F++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):ue(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=B,!B.u)){var i=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(e){return e.__c}));if(i.every((function(e){return!e.__N})))return!s||s.call(this,e,t,n);var a=!1;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}})),!(!a&&r.__c.props===e)&&(!s||s.call(this,e,t,n))};B.u=!0;var s=B.shouldComponentUpdate,a=B.componentWillUpdate;B.componentWillUpdate=function(e,t,n){if(this.__e){var r=s;s=void 0,i(e,t,n),s=r}a&&a.call(this,e,t,n)},B.shouldComponentUpdate=i}return r.__N||r.__}function Q(e,n){var r=z(F++,3);!t.__s&&ce(r.__H,n)&&(r.__=e,r.i=n,B.__H.__h.push(r))}function ee(e,t){var n=z(F++,7);return ce(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function te(e,t){return Y=8,ee((function(){return e}),t)}function ne(e){var t=B.context[e.__c],n=z(F++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(B)),t.props.value):e.__}function re(){var e=z(F++,11);if(!e.__){for(var t=B.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function ie(){for(var e;e=j.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(oe),e.__H.__h.forEach(le),e.__H.__h=[]}catch(n){e.__H.__h=[],t.__e(n,e.__v)}}t.__b=function(e){B=null,W&&W(e)},t.__r=function(e){H&&H(e),F=0;var t=(B=e.__c).__H;t&&(Z===B?(t.__h=[],B.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=$,e.__N=e.i=void 0}))):(t.__h.forEach(oe),t.__h.forEach(le),t.__h=[],F=0)),Z=B},t.diffed=function(e){G&&G(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(1!==j.push(n)&&V===t.requestAnimationFrame||((V=t.requestAnimationFrame)||ae)(ie)),n.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==$&&(e.__=e.__V),e.i=void 0,e.__V=$}))),Z=B=null},t.__c=function(e,n){n.some((function(e){try{e.__h.forEach(oe),e.__h=e.__h.filter((function(e){return!e.__||le(e)}))}catch(r){n.some((function(e){e.__h&&(e.__h=[])})),n=[],t.__e(r,e.__v)}})),q&&q(e,n)},t.unmount=function(e){K&&K(e);var n,r=e.__c;r&&r.__H&&(r.__H.__.forEach((function(e){try{oe(e)}catch(e){n=e}})),r.__H=void 0,n&&t.__e(n,r.__v))};var se="function"==typeof requestAnimationFrame;function ae(e){var t,n=function(){clearTimeout(r),se&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);se&&(t=requestAnimationFrame(n))}function oe(e){var t=B,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),B=t}function le(e){var t=B;e.__c=e.__(),B=t}function ce(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function ue(e,t){return"function"==typeof t?t(e):t}const de={NONE:{name:"none",level:5},ERROR:{name:"error",level:4},WARN:{name:"warn",level:3},INFO:{name:"info",level:2},DEBUG:{name:"debug",level:1},TRACE:{name:"trace",level:0}};var he;!function(e){e.SendFeedback="SendFeedback",e.GetConfig="GetConfig",e.GetMetrics="GetMetrics",e.OpenDetachedPopup="OpenDetachedPopup",e.AcceptEula="AcceptEula",e.RemoveExtension="RemoveExtension",e.SendLogLevel="SendLogLevel",e.RetrieveLogLevel="RetrieveLogLevel",e.StartDetectingInteraction="StartDetectingInteraction",e.StopDetectingInteraction="StopDetectingInteraction",e.StartInspector="StartInspector",e.StopInspector="StopInspector",e.CleanupInspector="CleanupInspector",e.StartTestTransaction="StartTestTransaction",e.StopTestTransaction="StopTestTransaction"}(he||(he={}));const pe={extensionConfig:{appNames:[],branding:{}},extensionDataMessage:{metrics:[]},extensionLogLevel:de.NONE,extensionElementDetection:{appId:"",selector:"",eventType:"click",innerTextPattern:""},extensionElementInspect:{appId:"",cssSelector:""},extensionTestTransactionOutcome:{eventDetected:"start"}};var fe,me;(me=fe||(fe={}))[me.Console=0]="Console",me[me.Sentry=1]="Sentry",me[me.BsmLoggerForwarder=2]="BsmLoggerForwarder",me[me.BackgroundLoggerForwarder=3]="BackgroundLoggerForwarder";class _e{static addSink(e,t){_e.loggerSinkManager.addSink(e,t)}static getSinkManager(){return _e.loggerSinkManager}}_e.loggerSinkManager=new class{constructor(){this.sinks=new Map}addSink(e,t){this.sinks.has(e)||this.sinks.set(e,t)}getSink(e){return this.sinks.get(e)}clearSinks(){this.sinks.clear()}executeSinks(e,t,n,r,...i){this.sinks.forEach((s=>{var a,o,l,c,u;switch(e){case de.TRACE:null===(a=s.trace)||void 0===a||a.call(s,t,n,r,...i);break;case de.DEBUG:null===(o=s.debug)||void 0===o||o.call(s,t,n,r,...i);break;case de.INFO:null===(l=s.info)||void 0===l||l.call(s,t,n,r,...i);break;case de.WARN:null===(c=s.warn)||void 0===c||c.call(s,t,n,r,...i);break;case de.ERROR:null===(u=s.error)||void 0===u||u.call(s,t,n,r,...i)}}))}};class ge{constructor(e,t=void 0,n=void 0){this.sinkManager=e,this.loggerName=t,this.correlationId=n}executeSinks(e,t,...n){this.sinkManager.executeSinks(e,this.correlationId,this.loggerName,t,...n)}trace(e,...t){this.executeSinks(de.TRACE,e,...t)}debug(e,...t){this.executeSinks(de.DEBUG,e,...t)}warn(e,...t){this.executeSinks(de.WARN,e,...t)}info(e,...t){this.executeSinks(de.INFO,e,...t)}error(e,...t){this.executeSinks(de.ERROR,e,...t)}toJSON(){return`${this.loggerName}Logger`}}function ve(e=void 0,t=void 0){return new ge(_e.getSinkManager(),e,t)}const ye=D(void 0),Ee=()=>{const e=ne(ye),[t,n]=J(new Map);return Q((()=>{if(e)return t.forEach((t=>{null==e||e.onMessage.addListener(t)})),()=>{t.forEach((t=>{null==e||e.onMessage.removeListener(t)}))}}),[e,t]),{onDisconnect:t=>{null==e||e.onDisconnect.addListener(t)},onMessage:{listeners:t,addEventListener:e=>{const t=t=>{(function(e){return"object"==typeof e&&!!e&&Object.keys(pe).some((t=>Object.keys(e).includes(t)))})(t)&&e(t)};n((n=>{const r=new Map(n);return r.set(e,t),r}))},removeEventListener:e=>{n((t=>{const n=new Map(t);return n.delete(e),n}))}},postMessage:t=>{try{null==e||e.postMessage(t)}catch(e){ve("ConnectionBackgroundContext").error("Error sending popup message",e,t)}}}};var be=__webpack_require__(875),Te=__webpack_require__.n(be);function Ae(){var e;return Te().action=null!==(e=Te().action)&&void 0!==e?e:Te().browserAction,Te()}const we=D(void 0),xe=()=>{const e=ne(we);if(!e)throw new Error("DetachedPopupContext must be inside a Provider with a value");return e};var Ce=__webpack_require__(234),Se=__webpack_require__.n(Ce);const Oe={encode:(e,t=Se().Writer.create())=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof Se().Reader?e:Se().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const i={value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.value=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>{return{value:(t=e.value,null!=t?String(e.value):"")};var t},toJSON(e){const t={};return void 0!==e.value&&(t.value=e.value),t},create:e=>Oe.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};var Ne=null;try{Ne=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(o){}function ke(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function Re(e){return!0===(e&&e.__isLong__)}function Ie(e){var t=Math.clz32(e&-e);return e?31-t:t}ke.prototype.__isLong__,Object.defineProperty(ke.prototype,"__isLong__",{value:!0}),ke.isLong=Re;var Pe={},Le={};function De(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=Le[e])?r:(n=Me(e,0,!0),i&&(Le[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=Pe[e])?r:(n=Me(e,e<0?-1:0,!1),i&&(Pe[e]=n),n)}function Ue(e,t){if(isNaN(e))return t?He:We;if(t){if(e<0)return He;if(e>=Ye)return Je}else{if(e<=-je)return Xe;if(e+1>=je)return ze}return e<0?Ue(-e,t).neg():Me(e%Ve|0,e/Ve|0,t)}function Me(e,t,n){return new ke(e,t,n)}ke.fromInt=De,ke.fromNumber=Ue,ke.fromBits=Me;var Fe=Math.pow;function Be(e,t,n){if(0===e.length)throw Error("empty string");if("number"==typeof t?(n=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?He:We;if((n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return Be(e.substring(1),t,n).neg();for(var i=Ue(Fe(n,8)),s=We,a=0;a<e.length;a+=8){var o=Math.min(8,e.length-a),l=parseInt(e.substring(a,a+o),n);if(o<8){var c=Ue(Fe(n,o));s=s.mul(c).add(Ue(l))}else s=(s=s.mul(i)).add(Ue(l))}return s.unsigned=t,s}function Ze(e,t){return"number"==typeof e?Ue(e,t):"string"==typeof e?Be(e,t):Me(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}ke.fromString=Be,ke.fromValue=Ze;var Ve=4294967296,Ye=Ve*Ve,je=Ye/2,$e=De(1<<24),We=De(0);ke.ZERO=We;var He=De(0,!0);ke.UZERO=He;var Ge=De(1);ke.ONE=Ge;var qe=De(1,!0);ke.UONE=qe;var Ke=De(-1);ke.NEG_ONE=Ke;var ze=Me(-1,2147483647,!1);ke.MAX_VALUE=ze;var Je=Me(-1,-1,!0);ke.MAX_UNSIGNED_VALUE=Je;var Xe=Me(0,-2147483648,!1);ke.MIN_VALUE=Xe;var Qe=ke.prototype;Qe.toInt=function(){return this.unsigned?this.low>>>0:this.low},Qe.toNumber=function(){return this.unsigned?(this.high>>>0)*Ve+(this.low>>>0):this.high*Ve+(this.low>>>0)},Qe.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Xe)){var t=Ue(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=Ue(Fe(e,6),this.unsigned),s=this,a="";;){var o=s.div(i),l=(s.sub(o.mul(i)).toInt()>>>0).toString(e);if((s=o).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},Qe.getHighBits=function(){return this.high},Qe.getHighBitsUnsigned=function(){return this.high>>>0},Qe.getLowBits=function(){return this.low},Qe.getLowBitsUnsigned=function(){return this.low>>>0},Qe.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Xe)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},Qe.isZero=function(){return 0===this.high&&0===this.low},Qe.eqz=Qe.isZero,Qe.isNegative=function(){return!this.unsigned&&this.high<0},Qe.isPositive=function(){return this.unsigned||this.high>=0},Qe.isOdd=function(){return 1==(1&this.low)},Qe.isEven=function(){return 0==(1&this.low)},Qe.equals=function(e){return Re(e)||(e=Ze(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},Qe.eq=Qe.equals,Qe.notEquals=function(e){return!this.eq(e)},Qe.neq=Qe.notEquals,Qe.ne=Qe.notEquals,Qe.lessThan=function(e){return this.comp(e)<0},Qe.lt=Qe.lessThan,Qe.lessThanOrEqual=function(e){return this.comp(e)<=0},Qe.lte=Qe.lessThanOrEqual,Qe.le=Qe.lessThanOrEqual,Qe.greaterThan=function(e){return this.comp(e)>0},Qe.gt=Qe.greaterThan,Qe.greaterThanOrEqual=function(e){return this.comp(e)>=0},Qe.gte=Qe.greaterThanOrEqual,Qe.ge=Qe.greaterThanOrEqual,Qe.compare=function(e){if(Re(e)||(e=Ze(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},Qe.comp=Qe.compare,Qe.negate=function(){return!this.unsigned&&this.eq(Xe)?Xe:this.not().add(Ge)},Qe.neg=Qe.negate,Qe.add=function(e){Re(e)||(e=Ze(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,s=e.high>>>16,a=65535&e.high,o=e.low>>>16,l=0,c=0,u=0,d=0;return u+=(d+=i+(65535&e.low))>>>16,c+=(u+=r+o)>>>16,l+=(c+=n+a)>>>16,l+=t+s,Me((u&=65535)<<16|(d&=65535),(l&=65535)<<16|(c&=65535),this.unsigned)},Qe.subtract=function(e){return Re(e)||(e=Ze(e)),this.add(e.neg())},Qe.sub=Qe.subtract,Qe.multiply=function(e){if(this.isZero())return this;if(Re(e)||(e=Ze(e)),Ne)return Me(Ne.mul(this.low,this.high,e.low,e.high),Ne.get_high(),this.unsigned);if(e.isZero())return this.unsigned?He:We;if(this.eq(Xe))return e.isOdd()?Xe:We;if(e.eq(Xe))return this.isOdd()?Xe:We;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt($e)&&e.lt($e))return Ue(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,s=e.high>>>16,a=65535&e.high,o=e.low>>>16,l=65535&e.low,c=0,u=0,d=0,h=0;return d+=(h+=i*l)>>>16,u+=(d+=r*l)>>>16,d&=65535,u+=(d+=i*o)>>>16,c+=(u+=n*l)>>>16,u&=65535,c+=(u+=r*o)>>>16,u&=65535,c+=(u+=i*a)>>>16,c+=t*l+n*o+r*a+i*s,Me((d&=65535)<<16|(h&=65535),(c&=65535)<<16|(u&=65535),this.unsigned)},Qe.mul=Qe.multiply,Qe.divide=function(e){if(Re(e)||(e=Ze(e)),e.isZero())throw Error("division by zero");var t,n,r;if(Ne)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?Me((this.unsigned?Ne.div_u:Ne.div_s)(this.low,this.high,e.low,e.high),Ne.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?He:We;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return He;if(e.gt(this.shru(1)))return qe;r=He}else{if(this.eq(Xe))return e.eq(Ge)||e.eq(Ke)?Xe:e.eq(Xe)?Ge:(t=this.shr(1).div(e).shl(1)).eq(We)?e.isNegative()?Ge:Ke:(n=this.sub(e.mul(t)),r=t.add(n.div(e)));if(e.eq(Xe))return this.unsigned?He:We;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=We}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(t)/Math.LN2),s=i<=48?1:Fe(2,i-48),a=Ue(t),o=a.mul(e);o.isNegative()||o.gt(n);)o=(a=Ue(t-=s,this.unsigned)).mul(e);a.isZero()&&(a=Ge),r=r.add(a),n=n.sub(o)}return r},Qe.div=Qe.divide,Qe.modulo=function(e){return Re(e)||(e=Ze(e)),Ne?Me((this.unsigned?Ne.rem_u:Ne.rem_s)(this.low,this.high,e.low,e.high),Ne.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},Qe.mod=Qe.modulo,Qe.rem=Qe.modulo,Qe.not=function(){return Me(~this.low,~this.high,this.unsigned)},Qe.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Qe.clz=Qe.countLeadingZeros,Qe.countTrailingZeros=function(){return this.low?Ie(this.low):Ie(this.high)+32},Qe.ctz=Qe.countTrailingZeros,Qe.and=function(e){return Re(e)||(e=Ze(e)),Me(this.low&e.low,this.high&e.high,this.unsigned)},Qe.or=function(e){return Re(e)||(e=Ze(e)),Me(this.low|e.low,this.high|e.high,this.unsigned)},Qe.xor=function(e){return Re(e)||(e=Ze(e)),Me(this.low^e.low,this.high^e.high,this.unsigned)},Qe.shiftLeft=function(e){return Re(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?Me(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Me(0,this.low<<e-32,this.unsigned)},Qe.shl=Qe.shiftLeft,Qe.shiftRight=function(e){return Re(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?Me(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Me(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},Qe.shr=Qe.shiftRight,Qe.shiftRightUnsigned=function(e){return Re(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?Me(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):Me(32===e?this.high:this.high>>>e-32,0,this.unsigned)},Qe.shru=Qe.shiftRightUnsigned,Qe.shr_u=Qe.shiftRightUnsigned,Qe.rotateLeft=function(e){var t;return Re(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?Me(this.high,this.low,this.unsigned):e<32?(t=32-e,Me(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),Me(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},Qe.rotl=Qe.rotateLeft,Qe.rotateRight=function(e){var t;return Re(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?Me(this.high,this.low,this.unsigned):e<32?(t=32-e,Me(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),Me(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},Qe.rotr=Qe.rotateRight,Qe.toSigned=function(){return this.unsigned?Me(this.low,this.high,!1):this},Qe.toUnsigned=function(){return this.unsigned?this:Me(this.low,this.high,!0)},Qe.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},Qe.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},Qe.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},ke.fromBytes=function(e,t,n){return n?ke.fromBytesLE(e,t):ke.fromBytesBE(e,t)},ke.fromBytesLE=function(e,t){return new ke(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},ke.fromBytesBE=function(e,t){return new ke(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};const et=ke;var tt,nt,rt,it;(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})(),Se().util.Long!==et&&(Se().util.Long=et,Se().configure()),function(e){e[e.REQUEST_STATUS_UNSPECIFIED=0]="REQUEST_STATUS_UNSPECIFIED",e[e.REQUEST_STATUS_SUCCESS=2]="REQUEST_STATUS_SUCCESS",e[e.REQUEST_STATUS_NOT_MODIFIED=3]="REQUEST_STATUS_NOT_MODIFIED",e[e.REQUEST_STATUS_CLIENT_ERROR=4]="REQUEST_STATUS_CLIENT_ERROR",e[e.REQUEST_STATUS_SERVER_ERROR=5]="REQUEST_STATUS_SERVER_ERROR",e[e.REQUEST_STATUS_NETWORK_ERROR=6]="REQUEST_STATUS_NETWORK_ERROR",e[e.REQUEST_STATUS_SECURITY_ERROR=7]="REQUEST_STATUS_SECURITY_ERROR",e[e.REQUEST_STATUS_UNKNOWN_ERROR=10]="REQUEST_STATUS_UNKNOWN_ERROR"}(tt||(tt={})),function(e){e[e.RESOURCE_TYPE_UNSPECIFIED=0]="RESOURCE_TYPE_UNSPECIFIED",e[e.RESOURCE_TYPE_BEACON=1]="RESOURCE_TYPE_BEACON",e[e.RESOURCE_TYPE_CSP_REPORT=2]="RESOURCE_TYPE_CSP_REPORT",e[e.RESOURCE_TYPE_FONT=3]="RESOURCE_TYPE_FONT",e[e.RESOURCE_TYPE_IMAGE=4]="RESOURCE_TYPE_IMAGE",e[e.RESOURCE_TYPE_IMAGE_SET=5]="RESOURCE_TYPE_IMAGE_SET",e[e.RESOURCE_TYPE_MAIN_FRAME=6]="RESOURCE_TYPE_MAIN_FRAME",e[e.RESOURCE_TYPE_MEDIA=7]="RESOURCE_TYPE_MEDIA",e[e.RESOURCE_TYPE_OBJECT=8]="RESOURCE_TYPE_OBJECT",e[e.RESOURCE_TYPE_OBJECT_SUBREQUEST=9]="RESOURCE_TYPE_OBJECT_SUBREQUEST",e[e.RESOURCE_TYPE_PING=10]="RESOURCE_TYPE_PING",e[e.RESOURCE_TYPE_SCRIPT=11]="RESOURCE_TYPE_SCRIPT",e[e.RESOURCE_TYPE_SPECULATIVE=12]="RESOURCE_TYPE_SPECULATIVE",e[e.RESOURCE_TYPE_STYLESHEET=13]="RESOURCE_TYPE_STYLESHEET",e[e.RESOURCE_TYPE_SUBFRAME=14]="RESOURCE_TYPE_SUBFRAME",e[e.RESOURCE_TYPE_WEB_MANIFEST=15]="RESOURCE_TYPE_WEB_MANIFEST",e[e.RESOURCE_TYPE_WEB_SOCKET=16]="RESOURCE_TYPE_WEB_SOCKET",e[e.RESOURCE_TYPE_XBL=17]="RESOURCE_TYPE_XBL",e[e.RESOURCE_TYPE_XML_DTD=18]="RESOURCE_TYPE_XML_DTD",e[e.RESOURCE_TYPE_XML_HTTP_REQUEST=19]="RESOURCE_TYPE_XML_HTTP_REQUEST",e[e.RESOURCE_TYPE_XSLT=20]="RESOURCE_TYPE_XSLT"}(nt||(nt={})),function(e){e[e.ACTIVITY_LEVEL_UNSPECIFIED=0]="ACTIVITY_LEVEL_UNSPECIFIED",e[e.ACTIVITY_LEVEL_UNFOCUSED=5]="ACTIVITY_LEVEL_UNFOCUSED",e[e.ACTIVITY_LEVEL_FOCUSED=6]="ACTIVITY_LEVEL_FOCUSED"}(rt||(rt={})),function(e){e[e.PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED=0]="PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED",e[e.PERCEIVED_EXPERIENCE_LEVEL_GOOD=1]="PERCEIVED_EXPERIENCE_LEVEL_GOOD",e[e.PERCEIVED_EXPERIENCE_LEVEL_AVERAGE=2]="PERCEIVED_EXPERIENCE_LEVEL_AVERAGE",e[e.PERCEIVED_EXPERIENCE_LEVEL_FRUSTRATING=3]="PERCEIVED_EXPERIENCE_LEVEL_FRUSTRATING"}(it||(it={})),(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();const st={encode(e,t=Se().Writer.create()){void 0!==e.id&&Oe.encode(e.id,t.uint32(10).fork()).ldelim(),""!==e.name&&t.uint32(18).string(e.name);for(const n of e.startTriggers)at.encode(n,t.uint32(26).fork()).ldelim();for(const n of e.endTriggers)ct.encode(n,t.uint32(34).fork()).ldelim();return t},decode(e,t){const n=e instanceof Se().Reader?e:Se().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const i={id:void 0,name:"",startTriggers:[],endTriggers:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.id=Oe.decode(n,n.uint32());continue;case 2:if(18!==e)break;i.name=n.string();continue;case 3:if(26!==e)break;i.startTriggers.push(at.decode(n,n.uint32()));continue;case 4:if(34!==e)break;i.endTriggers.push(ct.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({id:pt(e.id)?Oe.fromJSON(e.id):void 0,name:pt(e.name)?String(e.name):"",startTriggers:Array.isArray(null==e?void 0:e.startTriggers)?e.startTriggers.map((e=>at.fromJSON(e))):[],endTriggers:Array.isArray(null==e?void 0:e.endTriggers)?e.endTriggers.map((e=>ct.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.id&&(t.id=e.id?Oe.toJSON(e.id):void 0),void 0!==e.name&&(t.name=e.name),e.startTriggers?t.startTriggers=e.startTriggers.map((e=>e?at.toJSON(e):void 0)):t.startTriggers=[],e.endTriggers?t.endTriggers=e.endTriggers.map((e=>e?ct.toJSON(e):void 0)):t.endTriggers=[],t},create:e=>st.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const i={id:void 0,name:"",startTriggers:[],endTriggers:[]};return i.id=void 0!==e.id&&null!==e.id?Oe.fromPartial(e.id):void 0,i.name=null!==(t=e.name)&&void 0!==t?t:"",i.startTriggers=(null===(n=e.startTriggers)||void 0===n?void 0:n.map((e=>at.fromPartial(e))))||[],i.endTriggers=(null===(r=e.endTriggers)||void 0===r?void 0:r.map((e=>ct.fromPartial(e))))||[],i}},at={encode(e,t=Se().Writer.create()){var n;switch(void 0!==e.id&&Oe.encode(e.id,t.uint32(10).fork()).ldelim(),""!==e.name&&t.uint32(18).string(e.name),void 0!==e.element&&ut.encode(e.element,t.uint32(26).fork()).ldelim(),null===(n=e.mechanism)||void 0===n?void 0:n.$case){case"event":ot.encode(e.mechanism.event,t.uint32(34).fork()).ldelim();break;case"keyboardShortcut":lt.encode(e.mechanism.keyboardShortcut,t.uint32(42).fork()).ldelim()}return t},decode(e,t){const n=e instanceof Se().Reader?e:Se().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const i={id:void 0,name:"",element:void 0,mechanism:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.id=Oe.decode(n,n.uint32());continue;case 2:if(18!==e)break;i.name=n.string();continue;case 3:if(26!==e)break;i.element=ut.decode(n,n.uint32());continue;case 4:if(34!==e)break;i.mechanism={$case:"event",event:ot.decode(n,n.uint32())};continue;case 5:if(42!==e)break;i.mechanism={$case:"keyboardShortcut",keyboardShortcut:lt.decode(n,n.uint32())};continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({id:pt(e.id)?Oe.fromJSON(e.id):void 0,name:pt(e.name)?String(e.name):"",element:pt(e.element)?ut.fromJSON(e.element):void 0,mechanism:pt(e.event)?{$case:"event",event:ot.fromJSON(e.event)}:pt(e.keyboardShortcut)?{$case:"keyboardShortcut",keyboardShortcut:lt.fromJSON(e.keyboardShortcut)}:void 0}),toJSON(e){var t,n,r,i,s,a;const o={};return void 0!==e.id&&(o.id=e.id?Oe.toJSON(e.id):void 0),void 0!==e.name&&(o.name=e.name),void 0!==e.element&&(o.element=e.element?ut.toJSON(e.element):void 0),"event"===(null===(t=e.mechanism)||void 0===t?void 0:t.$case)&&(o.event=(null===(n=e.mechanism)||void 0===n?void 0:n.event)?ot.toJSON(null===(r=e.mechanism)||void 0===r?void 0:r.event):void 0),"keyboardShortcut"===(null===(i=e.mechanism)||void 0===i?void 0:i.$case)&&(o.keyboardShortcut=(null===(s=e.mechanism)||void 0===s?void 0:s.keyboardShortcut)?lt.toJSON(null===(a=e.mechanism)||void 0===a?void 0:a.keyboardShortcut):void 0),o},create:e=>at.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,i,s,a,o;const l={id:void 0,name:"",element:void 0,mechanism:void 0};return l.id=void 0!==e.id&&null!==e.id?Oe.fromPartial(e.id):void 0,l.name=null!==(t=e.name)&&void 0!==t?t:"",l.element=void 0!==e.element&&null!==e.element?ut.fromPartial(e.element):void 0,"event"===(null===(n=e.mechanism)||void 0===n?void 0:n.$case)&&void 0!==(null===(r=e.mechanism)||void 0===r?void 0:r.event)&&null!==(null===(i=e.mechanism)||void 0===i?void 0:i.event)&&(l.mechanism={$case:"event",event:ot.fromPartial(e.mechanism.event)}),"keyboardShortcut"===(null===(s=e.mechanism)||void 0===s?void 0:s.$case)&&void 0!==(null===(a=e.mechanism)||void 0===a?void 0:a.keyboardShortcut)&&null!==(null===(o=e.mechanism)||void 0===o?void 0:o.keyboardShortcut)&&(l.mechanism={$case:"keyboardShortcut",keyboardShortcut:lt.fromPartial(e.mechanism.keyboardShortcut)}),l}},ot={encode:(e,t=Se().Writer.create())=>t,decode(e,t){const n=e instanceof Se().Reader?e:Se().Reader.create(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),create:e=>ot.fromPartial(null!=e?e:{}),fromPartial:e=>({})},lt={encode:(e,t=Se().Writer.create())=>(""!==e.expression&&t.uint32(10).string(e.expression),!0===e.listenOnTargetElement&&t.uint32(16).bool(e.listenOnTargetElement),t),decode(e,t){const n=e instanceof Se().Reader?e:Se().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const i={expression:"",listenOnTargetElement:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.expression=n.string();continue;case 2:if(16!==e)break;i.listenOnTargetElement=n.bool();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({expression:pt(e.expression)?String(e.expression):"",listenOnTargetElement:!!pt(e.listenOnTargetElement)&&Boolean(e.listenOnTargetElement)}),toJSON(e){const t={};return void 0!==e.expression&&(t.expression=e.expression),void 0!==e.listenOnTargetElement&&(t.listenOnTargetElement=e.listenOnTargetElement),t},create:e=>lt.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={expression:"",listenOnTargetElement:!1};return r.expression=null!==(t=e.expression)&&void 0!==t?t:"",r.listenOnTargetElement=null!==(n=e.listenOnTargetElement)&&void 0!==n&&n,r}},ct={encode(e,t=Se().Writer.create()){var n;switch(void 0!==e.id&&Oe.encode(e.id,t.uint32(10).fork()).ldelim(),""!==e.name&&t.uint32(18).string(e.name),void 0!==e.element&&ut.encode(e.element,t.uint32(26).fork()).ldelim(),null===(n=e.mechanism)||void 0===n?void 0:n.$case){case"visibility":dt.encode(e.mechanism.visibility,t.uint32(34).fork()).ldelim();break;case"className":ht.encode(e.mechanism.className,t.uint32(42).fork()).ldelim()}return!0===e.waitForNew&&t.uint32(48).bool(e.waitForNew),t},decode(e,t){const n=e instanceof Se().Reader?e:Se().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const i={id:void 0,name:"",element:void 0,mechanism:void 0,waitForNew:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.id=Oe.decode(n,n.uint32());continue;case 2:if(18!==e)break;i.name=n.string();continue;case 3:if(26!==e)break;i.element=ut.decode(n,n.uint32());continue;case 4:if(34!==e)break;i.mechanism={$case:"visibility",visibility:dt.decode(n,n.uint32())};continue;case 5:if(42!==e)break;i.mechanism={$case:"className",className:ht.decode(n,n.uint32())};continue;case 6:if(48!==e)break;i.waitForNew=n.bool();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({id:pt(e.id)?Oe.fromJSON(e.id):void 0,name:pt(e.name)?String(e.name):"",element:pt(e.element)?ut.fromJSON(e.element):void 0,mechanism:pt(e.visibility)?{$case:"visibility",visibility:dt.fromJSON(e.visibility)}:pt(e.className)?{$case:"className",className:ht.fromJSON(e.className)}:void 0,waitForNew:!!pt(e.waitForNew)&&Boolean(e.waitForNew)}),toJSON(e){var t,n,r,i,s,a;const o={};return void 0!==e.id&&(o.id=e.id?Oe.toJSON(e.id):void 0),void 0!==e.name&&(o.name=e.name),void 0!==e.element&&(o.element=e.element?ut.toJSON(e.element):void 0),"visibility"===(null===(t=e.mechanism)||void 0===t?void 0:t.$case)&&(o.visibility=(null===(n=e.mechanism)||void 0===n?void 0:n.visibility)?dt.toJSON(null===(r=e.mechanism)||void 0===r?void 0:r.visibility):void 0),"className"===(null===(i=e.mechanism)||void 0===i?void 0:i.$case)&&(o.className=(null===(s=e.mechanism)||void 0===s?void 0:s.className)?ht.toJSON(null===(a=e.mechanism)||void 0===a?void 0:a.className):void 0),void 0!==e.waitForNew&&(o.waitForNew=e.waitForNew),o},create:e=>ct.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,i,s,a,o,l;const c={id:void 0,name:"",element:void 0,mechanism:void 0,waitForNew:!1};return c.id=void 0!==e.id&&null!==e.id?Oe.fromPartial(e.id):void 0,c.name=null!==(t=e.name)&&void 0!==t?t:"",c.element=void 0!==e.element&&null!==e.element?ut.fromPartial(e.element):void 0,"visibility"===(null===(n=e.mechanism)||void 0===n?void 0:n.$case)&&void 0!==(null===(r=e.mechanism)||void 0===r?void 0:r.visibility)&&null!==(null===(i=e.mechanism)||void 0===i?void 0:i.visibility)&&(c.mechanism={$case:"visibility",visibility:dt.fromPartial(e.mechanism.visibility)}),"className"===(null===(s=e.mechanism)||void 0===s?void 0:s.$case)&&void 0!==(null===(a=e.mechanism)||void 0===a?void 0:a.className)&&null!==(null===(o=e.mechanism)||void 0===o?void 0:o.className)&&(c.mechanism={$case:"className",className:ht.fromPartial(e.mechanism.className)}),c.waitForNew=null!==(l=e.waitForNew)&&void 0!==l&&l,c}},ut={encode:(e,t=Se().Writer.create())=>(""!==e.cssSelector&&t.uint32(10).string(e.cssSelector),void 0!==e.innerTextPattern&&t.uint32(18).string(e.innerTextPattern),!0===e.selectAll&&t.uint32(24).bool(e.selectAll),t),decode(e,t){const n=e instanceof Se().Reader?e:Se().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const i={cssSelector:"",innerTextPattern:void 0,selectAll:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.cssSelector=n.string();continue;case 2:if(18!==e)break;i.innerTextPattern=n.string();continue;case 3:if(24!==e)break;i.selectAll=n.bool();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({cssSelector:pt(e.cssSelector)?String(e.cssSelector):"",innerTextPattern:pt(e.innerTextPattern)?String(e.innerTextPattern):void 0,selectAll:!!pt(e.selectAll)&&Boolean(e.selectAll)}),toJSON(e){const t={};return void 0!==e.cssSelector&&(t.cssSelector=e.cssSelector),void 0!==e.innerTextPattern&&(t.innerTextPattern=e.innerTextPattern),void 0!==e.selectAll&&(t.selectAll=e.selectAll),t},create:e=>ut.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const i={cssSelector:"",innerTextPattern:void 0,selectAll:!1};return i.cssSelector=null!==(t=e.cssSelector)&&void 0!==t?t:"",i.innerTextPattern=null!==(n=e.innerTextPattern)&&void 0!==n?n:void 0,i.selectAll=null!==(r=e.selectAll)&&void 0!==r&&r,i}},dt={encode:(e,t=Se().Writer.create())=>(!0===e.triggerOnHidden&&t.uint32(8).bool(e.triggerOnHidden),t),decode(e,t){const n=e instanceof Se().Reader?e:Se().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const i={triggerOnHidden:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;i.triggerOnHidden=n.bool();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({triggerOnHidden:!!pt(e.triggerOnHidden)&&Boolean(e.triggerOnHidden)}),toJSON(e){const t={};return void 0!==e.triggerOnHidden&&(t.triggerOnHidden=e.triggerOnHidden),t},create:e=>dt.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={triggerOnHidden:!1};return n.triggerOnHidden=null!==(t=e.triggerOnHidden)&&void 0!==t&&t,n}},ht={encode:(e,t=Se().Writer.create())=>(""!==e.name&&t.uint32(10).string(e.name),!0===e.triggerOnRemoved&&t.uint32(16).bool(e.triggerOnRemoved),t),decode(e,t){const n=e instanceof Se().Reader?e:Se().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const i={name:"",triggerOnRemoved:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.name=n.string();continue;case 2:if(16!==e)break;i.triggerOnRemoved=n.bool();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({name:pt(e.name)?String(e.name):"",triggerOnRemoved:!!pt(e.triggerOnRemoved)&&Boolean(e.triggerOnRemoved)}),toJSON(e){const t={};return void 0!==e.name&&(t.name=e.name),void 0!==e.triggerOnRemoved&&(t.triggerOnRemoved=e.triggerOnRemoved),t},create:e=>ht.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={name:"",triggerOnRemoved:!1};return r.name=null!==(t=e.name)&&void 0!==t?t:"",r.triggerOnRemoved=null!==(n=e.triggerOnRemoved)&&void 0!==n&&n,r}};function pt(e){return null!=e}var ft,mt,_t,gt,vt,yt,Et,bt,Tt,At,wt,xt,Ct,St,Ot,Nt;function kt(){return crypto.randomUUID()}function Rt({cssSelector:e,innerTextPattern:t,eventType:n,selectAll:r}){const i="keyboard-shortcut"===n?{$case:"keyboardShortcut",keyboardShortcut:lt.create({expression:"Enter",listenOnTargetElement:!0})}:{$case:"event",event:ot.create()},s=n?n.charAt(0).toUpperCase()+n.slice(1).replace("-"," "):"Start event name";return{id:{value:kt()},name:"",startTriggers:[{id:{value:kt()},name:s,element:{cssSelector:e,innerTextPattern:null!=t?t:"",selectAll:null!=r&&r},mechanism:i}],endTriggers:[]}}(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})(),Se().util.Long!==et&&(Se().util.Long=et,Se().configure()),function(e){e[e.FEATURE_FLAG_TYPE_UNSPECIFIED=0]="FEATURE_FLAG_TYPE_UNSPECIFIED",e[e.FEATURE_FLAG_TYPE_BOOLEAN=1]="FEATURE_FLAG_TYPE_BOOLEAN",e[e.FEATURE_FLAG_TYPE_NUMBER=2]="FEATURE_FLAG_TYPE_NUMBER",e[e.FEATURE_FLAG_TYPE_STRING=3]="FEATURE_FLAG_TYPE_STRING",e[e.FEATURE_FLAG_TYPE_JSON=4]="FEATURE_FLAG_TYPE_JSON"}(ft||(ft={})),(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})(),(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})(),Se().util.Long!==et&&(Se().util.Long=et,Se().configure()),function(e){e[e.TRANSACTION_STATUS_UNSPECIFIED=0]="TRANSACTION_STATUS_UNSPECIFIED",e[e.TRANSACTION_STATUS_COMPLETED=1]="TRANSACTION_STATUS_COMPLETED",e[e.TRANSACTION_STATUS_FAILED=2]="TRANSACTION_STATUS_FAILED",e[e.TRANSACTION_STATUS_TIME_OUT=3]="TRANSACTION_STATUS_TIME_OUT",e[e.TRANSACTION_STATUS_ABORTED_UNLOAD=4]="TRANSACTION_STATUS_ABORTED_UNLOAD",e[e.TRANSACTION_STATUS_ABORTED_NEW=5]="TRANSACTION_STATUS_ABORTED_NEW",e[e.TRANSACTION_STATUS_ABORTED_INPUT=6]="TRANSACTION_STATUS_ABORTED_INPUT"}(mt||(mt={})),(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})(),function(e){e[e.FEEDBACK_CATEGORY_UNSPECIFIED=0]="FEEDBACK_CATEGORY_UNSPECIFIED",e[e.FEEDBACK_CATEGORY_BROKEN=1]="FEEDBACK_CATEGORY_BROKEN",e[e.FEEDBACK_CATEGORY_SLOW=2]="FEEDBACK_CATEGORY_SLOW",e[e.FEEDBACK_CATEGORY_UNRESPONSIVE=3]="FEEDBACK_CATEGORY_UNRESPONSIVE",e[e.FEEDBACK_CATEGORY_UGLY=4]="FEEDBACK_CATEGORY_UGLY"}(_t||(_t={})),(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})(),function(e){e[e.ACTIVITY_CONDITIONS_UNSPECIFIED=0]="ACTIVITY_CONDITIONS_UNSPECIFIED",e[e.ACTIVITY_CONDITIONS_NORMAL=1]="ACTIVITY_CONDITIONS_NORMAL",e[e.ACTIVITY_CONDITIONS_SLOW=2]="ACTIVITY_CONDITIONS_SLOW",e[e.ACTIVITY_CONDITIONS_ERROR=3]="ACTIVITY_CONDITIONS_ERROR"}(gt||(gt={})),(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})(),(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})(),Se().util.Long!==et&&(Se().util.Long=et,Se().configure()),function(e){e[e.BROWSER_UNSPECIFIED=0]="BROWSER_UNSPECIFIED",e[e.BROWSER_CHROME=1]="BROWSER_CHROME",e[e.BROWSER_FIREFOX=2]="BROWSER_FIREFOX",e[e.BROWSER_EDGE=3]="BROWSER_EDGE"}(vt||(vt={})),function(e){e[e.INSTALL_TYPE_UNSPECIFIED=0]="INSTALL_TYPE_UNSPECIFIED",e[e.INSTALL_TYPE_ADMIN=1]="INSTALL_TYPE_ADMIN",e[e.INSTALL_TYPE_DEVELOPMENT=2]="INSTALL_TYPE_DEVELOPMENT",e[e.INSTALL_TYPE_NORMAL=3]="INSTALL_TYPE_NORMAL",e[e.INSTALL_TYPE_SIDE_LOAD=4]="INSTALL_TYPE_SIDE_LOAD",e[e.INSTALL_TYPE_OTHER=5]="INSTALL_TYPE_OTHER"}(yt||(yt={})),(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})(),(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})(),Se().util.Long!==et&&(Se().util.Long=et,Se().configure()),function(e){e[e.NETWORK_INTERFACE_TYPE_UNSPECIFIED=0]="NETWORK_INTERFACE_TYPE_UNSPECIFIED",e[e.NETWORK_INTERFACE_TYPE_VIRTUAL=1]="NETWORK_INTERFACE_TYPE_VIRTUAL",e[e.NETWORK_INTERFACE_TYPE_PHYSICAL_ETHERNET=2]="NETWORK_INTERFACE_TYPE_PHYSICAL_ETHERNET",e[e.NETWORK_INTERFACE_TYPE_PHYSICAL_WIFI=3]="NETWORK_INTERFACE_TYPE_PHYSICAL_WIFI",e[e.NETWORK_INTERFACE_TYPE_PHYSICAL_BLUETOOTH=4]="NETWORK_INTERFACE_TYPE_PHYSICAL_BLUETOOTH"}(Et||(Et={})),function(e){e[e.WIFI_PROTOCOL_TYPE_UNSPECIFIED=0]="WIFI_PROTOCOL_TYPE_UNSPECIFIED",e[e.WIFI_PROTOCOL_TYPE_802_11a=1]="WIFI_PROTOCOL_TYPE_802_11a",e[e.WIFI_PROTOCOL_TYPE_802_11b=2]="WIFI_PROTOCOL_TYPE_802_11b",e[e.WIFI_PROTOCOL_TYPE_802_11g=3]="WIFI_PROTOCOL_TYPE_802_11g",e[e.WIFI_PROTOCOL_TYPE_802_11n=4]="WIFI_PROTOCOL_TYPE_802_11n",e[e.WIFI_PROTOCOL_TYPE_802_11ac=5]="WIFI_PROTOCOL_TYPE_802_11ac",e[e.WIFI_PROTOCOL_TYPE_802_11ad=6]="WIFI_PROTOCOL_TYPE_802_11ad",e[e.WIFI_PROTOCOL_TYPE_802_11ax=7]="WIFI_PROTOCOL_TYPE_802_11ax"}(bt||(bt={})),function(e){e[e.WIFI_BAND_TYPE_UNSPECIFIED=0]="WIFI_BAND_TYPE_UNSPECIFIED",e[e.WIFI_BAND_TYPE_900MHz=1]="WIFI_BAND_TYPE_900MHz",e[e.WIFI_BAND_TYPE_2dot4GHz=2]="WIFI_BAND_TYPE_2dot4GHz",e[e.WIFI_BAND_TYPE_3dot65GHz=3]="WIFI_BAND_TYPE_3dot65GHz",e[e.WIFI_BAND_TYPE_5GHz=4]="WIFI_BAND_TYPE_5GHz"}(Tt||(Tt={})),(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})(),(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})(),Se().util.Long!==et&&(Se().util.Long=et,Se().configure()),function(e){e[e.COMPRESSION_TYPE_UNSPECIFIED=0]="COMPRESSION_TYPE_UNSPECIFIED",e[e.COMPRESSION_TYPE_PLAIN=1]="COMPRESSION_TYPE_PLAIN",e[e.COMPRESSION_TYPE_GZIP=2]="COMPRESSION_TYPE_GZIP"}(At||(At={})),function(e){e[e.ERROR_TYPE_UNSPECIFIED=0]="ERROR_TYPE_UNSPECIFIED",e[e.ERROR_TYPE_MSG_TOO_LONG=1]="ERROR_TYPE_MSG_TOO_LONG"}(wt||(wt={})),function(e){e[e.TYPE_UNSPECIFIED=0]="TYPE_UNSPECIFIED",e[e.TYPE_BEACON=1]="TYPE_BEACON",e[e.TYPE_CONFIG=2]="TYPE_CONFIG",e[e.TYPE_LOG_DEBUG=3]="TYPE_LOG_DEBUG",e[e.TYPE_LOG_INFO=4]="TYPE_LOG_INFO",e[e.TYPE_LOG_WARNING=5]="TYPE_LOG_WARNING",e[e.TYPE_LOG_ERROR=6]="TYPE_LOG_ERROR",e[e.TYPE_LOG_CRITICAL=7]="TYPE_LOG_CRITICAL",e[e.TYPE_EXTENSION_INFO=8]="TYPE_EXTENSION_INFO",e[e.TYPE_ERROR=9]="TYPE_ERROR",e[e.TYPE_NETWORK_INTERFACE_IDENTIFIER=10]="TYPE_NETWORK_INTERFACE_IDENTIFIER",e[e.TYPE_LOG_TRACE=11]="TYPE_LOG_TRACE",e[e.TYPE_CONNECTION_STATUS=12]="TYPE_CONNECTION_STATUS"}(xt||(xt={})),function(e){e[e.BROWSER_UNSPECIFIED=0]="BROWSER_UNSPECIFIED",e[e.BROWSER_CHROME=1]="BROWSER_CHROME",e[e.BROWSER_FIREFOX=2]="BROWSER_FIREFOX",e[e.BROWSER_EDGE=3]="BROWSER_EDGE"}(Ct||(Ct={})),function(e){e[e.LOG_LEVEL_UNSPECIFIED=0]="LOG_LEVEL_UNSPECIFIED",e[e.LOG_LEVEL_DEBUG=1]="LOG_LEVEL_DEBUG",e[e.LOG_LEVEL_TRACE=2]="LOG_LEVEL_TRACE",e[e.LOG_LEVEL_INFO=3]="LOG_LEVEL_INFO",e[e.LOG_LEVEL_WARNING=4]="LOG_LEVEL_WARNING",e[e.LOG_LEVEL_ERROR=5]="LOG_LEVEL_ERROR"}(St||(St={})),function(e){e[e.COMPONENT_UNSPECIFIED=0]="COMPONENT_UNSPECIFIED",e[e.COMPONENT_NXTHOSTAPP=1]="COMPONENT_NXTHOSTAPP",e[e.COMPONENT_NXTBSM=2]="COMPONENT_NXTBSM",e[e.COMPONENT_NXTCOORDINATOR=3]="COMPONENT_NXTCOORDINATOR"}(Ot||(Ot={})),(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})(),function(e){e[e.EventSummary=0]="EventSummary",e[e.SelectTransactionDetectionMode=1]="SelectTransactionDetectionMode",e[e.TransactionInspectingElement=2]="TransactionInspectingElement",e[e.TransactionDetectingElement=3]="TransactionDetectingElement",e[e.ExportTransaction=4]="ExportTransaction",e[e.ConfigurationTransaction=5]="ConfigurationTransaction",e[e.TransactionTesting=6]="TransactionTesting"}(Nt||(Nt={}));const It="Open detection select mode panel",Pt="Back",Lt="Back to event summary",Dt="Clear element selector",Ut="Start inspecting an element",Mt="Report element",Ft="Start detecting element transaction",Bt="Stop detecting element",Zt="Export transaction",Vt="Open configuration transaction panel",Yt="Update configuration transaction",jt="Start test transaction",$t="Restart test transaction",Wt="Stop test transaction",Ht="Clear test transaction",Gt="Update test transaction",qt={currentView:Nt.EventSummary,previousViews:[],matches:[],isDetectingElement:!1,isTestingTransaction:!1},Kt=ve("useDetachedPopupReducer"),zt=(e,t)=>{switch(t.type){case It:return{...e,currentView:Nt.SelectTransactionDetectionMode,previousViews:[...e.previousViews,e.currentView]};case Pt:const n=e.previousViews.at(-1);return void 0===n?(Kt.error("Previous view is undefined",e),e):{...e,currentView:n,previousViews:e.previousViews.slice(0,-1)};case Lt:return{...e,currentView:Nt.EventSummary};case Dt:return{...e,matches:[]};case Ut:return{...e,currentView:Nt.TransactionInspectingElement,previousViews:[...e.previousViews,e.currentView],isDetectingElement:!0};case Ft:return{...e,currentView:Nt.TransactionDetectingElement,previousViews:[...e.previousViews,e.currentView],isDetectingElement:!0};case Bt:return{...e,isDetectingElement:!1};case Mt:return{...e,matches:[...e.matches,{appId:t.payload.element.appId,cssSelector:t.payload.element.cssSelector,eventType:t.payload.element.eventType,innerTextPattern:t.payload.element.innerTextPattern}]};case Zt:return{...e,currentView:Nt.ExportTransaction,previousViews:[...e.previousViews,e.currentView]};case Vt:return{...e,currentView:Nt.ConfigurationTransaction,previousViews:[...e.previousViews,e.currentView],configurationTransaction:{...Rt({cssSelector:t.payload.element.cssSelector,innerTextPattern:t.payload.element.innerTextPattern,eventType:t.payload.element.eventType}),appId:t.payload.element.appId}};case Yt:return{...e,configurationTransaction:{...t.payload.transaction,appId:t.payload.appId}};case jt:return{...e,currentView:Nt.TransactionTesting,previousViews:[...e.previousViews,e.currentView],isTestingTransaction:!0,testingTransaction:{detectingStartEvent:!0,detectingEndEvent:!1}};case $t:return{...e,testingTransaction:{detectingStartEvent:!0,detectingEndEvent:!1},isTestingTransaction:!0};case Gt:return{...e,testingTransaction:{...e.testingTransaction,...t.payload.outcome},isTestingTransaction:t.payload.outcome.detectingEndEvent};case Wt:return{...e,isTestingTransaction:!1};case Ht:return{...e,testingTransaction:void 0};default:throw new Error(`Unexpected action ${t}`)}},Jt=e=>M("header",{children:e.children}),Xt=e=>e.filter((e=>void 0!==e)).join(" "),Qt=e=>M("main",{class:Xt([e.scrollable?"scrollable":void 0]),children:e.children}),en=e=>M("footer",{children:e.children}),tn=e=>M("div",{id:"popup",children:[e.children.find((e=>e.type===Jt)),e.children.find((e=>e.type===Qt)),e.children.find((e=>e.type===en))]}),nn=()=>M("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:M("path",{d:"M9.42955 11.5C9.48454 11.5 9.54639 11.4719 9.58763 11.4299L9.93127 11.0792C9.97251 11.0371 10 10.9739 10 10.9178C10 10.8617 9.97251 10.7986 9.93127 10.7565L7.23024 8L9.93127 5.24349C9.97251 5.2014 10 5.13828 10 5.08216C10 5.01904 9.97251 4.96293 9.93127 4.92084L9.58763 4.57014C9.54639 4.52806 9.48454 4.5 9.42955 4.5C9.37457 4.5 9.31271 4.52806 9.27148 4.57014L6.06873 7.83868C6.02749 7.88076 6 7.94389 6 8C6 8.05611 6.02749 8.11924 6.06873 8.16132L9.27148 11.4299C9.31271 11.4719 9.37457 11.5 9.42955 11.5Z",fill:"currentColor"})}),rn=()=>M("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[M("path",{d:"M1.4375 1.43579L3.29367 6.38596L4.22175 4.22004L6.38708 3.29196L1.4375 1.43579Z",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"}),M("path",{d:"M5.8125 10.1858C5.8125 11.3461 6.27344 12.4589 7.09391 13.2794C7.91438 14.0999 9.02718 14.5608 10.1875 14.5608C11.3478 14.5608 12.4606 14.0999 13.2811 13.2794C14.1016 12.4589 14.5625 11.3461 14.5625 10.1858C14.5625 9.02547 14.1016 7.91267 13.2811 7.0922C12.4606 6.27173 11.3478 5.81079 10.1875 5.81079C9.02718 5.81079 7.91438 6.27173 7.09391 7.0922C6.27344 7.91267 5.8125 9.02547 5.8125 10.1858Z",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"}),M("path",{d:"M10.1875 7.99829V12.3733",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"}),M("path",{d:"M8 10.1858H12.375",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"})]}),sn=()=>M("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:[M("path",{d:"M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8Z",fill:"currentColor"}),M("path",{d:"M7.47883 4.07502C7.60217 3.99261 7.74717 3.94863 7.89551 3.94863C8.09442 3.94863 8.28519 4.02764 8.42584 4.1683C8.56649 4.30895 8.64551 4.49971 8.64551 4.69863C8.64551 4.84697 8.60152 4.99197 8.51911 5.1153C8.4367 5.23864 8.31957 5.33477 8.18252 5.39154C8.04548 5.4483 7.89468 5.46316 7.74919 5.43422C7.60371 5.40528 7.47007 5.33385 7.36518 5.22896C7.26029 5.12407 7.18886 4.99043 7.15992 4.84494C7.13098 4.69946 7.14583 4.54866 7.2026 4.41161C7.25936 4.27457 7.35549 4.15744 7.47883 4.07502ZM6.55444 6.84862C6.55444 6.57248 6.7783 6.34862 7.05444 6.34862H8.20444C8.48059 6.34862 8.70444 6.57248 8.70444 6.84862V10.5986H9.35475C9.63089 10.5986 9.85475 10.8225 9.85475 11.0986C9.85475 11.3748 9.63089 11.5986 9.35475 11.5986H7.04541C6.76927 11.5986 6.54541 11.3748 6.54541 11.0986C6.54541 10.8225 6.76927 10.5986 7.04541 10.5986H7.70444V7.34862H7.05444C6.7783 7.34862 6.55444 7.12476 6.55444 6.84862Z",fill:"currentColor"})]}),an=()=>M("svg",{role:"img",width:"48",height:"16",viewBox:"0 0 125 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[M("path",{d:"M0 7.99998C0.7 7.79998 1.5 7.59998 2.7 7.39998C3.9 7.19998 5.3 7.09998 6.9 7.09998C8.3 7.09998 9.5 7.29998 10.4 7.69998C11.3 8.09998 11.9 8.69998 12.5 9.39998C13.1 10.1 13.5 11 13.7 12C13.9 13 14 14.1 14 15.3V25.4H11V16C11 14.9 10.9 14 10.8 13.2C10.7 12.4 10.4 11.8 10.1 11.3C9.8 10.8 9.3 10.5 8.7 10.2C8.1 9.99998 7.4 9.89998 6.5 9.89998H5.4C5.1 9.99998 4.7 9.99998 4.4 9.99998C4.1 9.99998 3.8 10.1 3.5 10.1C3.2 10.1 3.1 10.2 3 10.2V25.3H0V7.99998Z",fill:"#8B93A6"}),M("path",{d:"M17.5 16.4C17.5 14.8 17.7 13.6 18.2 12.4C18.7 11.2 19.3 10.2 20 9.4C20.8 8.6 21.6 8 22.6 7.6C23.6 7.2 24.6 7 25.6 7C28 7 29.9 7.8 31.2 9.3C32.5 10.8 33.1 13.1 33.1 16.2V16.6V17.4H20.9C21 19.3 21.6 20.6 22.5 21.6C23.4 22.6 24.9 23 26.9 23C28 23 29 22.9 29.7 22.7C30.5 22.5 31.1 22.3 31.4 22.1L31.8 24.8C31.4 25 30.7 25.2 29.7 25.5C28.7 25.7 27.6 25.8 26.4 25.8C24.8 25.8 23.5 25.6 22.3 25.1C21.2 24.6 20.2 24 19.5 23.1C18.8 22.3 18.2 21.3 17.9 20.1C17.7 19.1 17.5 17.8 17.5 16.4ZM29.8 14.4C29.8 13 29.5 12.1 28.7 11.2C28 10.3 27 9.8 25.7 9.8C25 9.8 24.3 9.9 23.8 10.2C23.2 10.5 22.8 10.9 22.4 11.3C22 11.8 21.7 12.3 21.5 12.9C21.3 13.5 21.1 13.8 21.1 14.4H29.8Z",fill:"#8B93A6"}),M("path",{d:"M56 7.40005H63V10.4H56V18.4C56 19.3 56.1 20 56.2 20.6C56.3 21.2 56.5 21.6 56.8 22C57.1 22.3 57.4 22.6001 57.8 22.7001C58.2 22.8001 58.6 22.9 59.2 22.9C60.2 22.9 61.3 22.8 61.8 22.6C62.4 22.4 62.8 22.2 63 22.1L63.6 24.8C63.3 25 62.7 25.2 61.9 25.4C61.1 25.6 60.2 25.8 59.1 25.8C57.9 25.8 56.9 25.6 56.1 25.3C55.3 25 54.7 24.5 54.2 23.9C53.7 23.3 53.4 22.5 53.2 21.6C53 20.7 52.9 19.6 52.9 18.4V2.40005L55.9 1.80005V7.40005H56Z",fill:"#8B93A6"}),M("path",{d:"M67 25.4V1.19998L70 0.599976V7.79998C70.6 7.59998 71.2 7.39998 71.8 7.29998C72.5 7.19998 73.2 7.09998 73.8 7.09998C75.2 7.09998 76.1 7.29998 77.1 7.69998C78 8.09998 78.9 8.69997 79.4 9.39997C80 10.1 80.4 11 80.6 12C80.8 13 80.9 14.1 80.9 15.3V25.4H77.9V16C77.9 14.9 77.8 14 77.7 13.2C77.6 12.4 77.3 11.8 77 11.3C76.7 10.8 76.2 10.5 75.6 10.2C75 9.99998 74.6 9.89997 73.7 9.89997C73.4 9.89997 72.7 9.89998 72.3 9.99998C71.9 9.99998 71.6 10.1 71.2 10.2C70.9 10.3 70.6 10.3 70.3 10.4C70 10.5 69.9 10.5 69.8 10.6V25.5H67V25.4Z",fill:"#8B93A6"}),M("path",{d:"M86.6 4.2C86 4.2 85.5 4 85.1 3.6C84.7 3.2 84.5 2.7 84.5 2.1C84.5 1.5 84.7 0.9 85.1 0.6C85.5 0.2 86 0 86.6 0C87.2 0 87.7 0.2 88.1 0.6C88.5 1 88.7 1.5 88.7 2.1C88.7 2.7 88.5 3.3 88.1 3.6C87.7 4 87.2 4.2 86.6 4.2ZM88 25.4H85V7.4H88V25.4Z",fill:"#8B93A6"}),M("path",{d:"M92 7.99998C92.7 7.79998 93.5 7.59998 94.7 7.39998C95.9 7.19998 96.5 7.09998 98.1 7.09998C99.5 7.09998 101.2 7.29998 102.1 7.69998C103 8.09998 103.8 8.69998 104.4 9.39998C105 10.1 105.4 11 105.6 12C105.8 13 105.9 14.1 105.9 15.3V25.4H102.9V16C102.9 14.9 102.8 14 102.7 13.2C102.6 12.4 102.3 11.8 102 11.3C101.7 10.8 101.2 10.5 100.6 10.2C100 9.99998 98.9 9.89998 98 9.89998H97.4C97 9.89998 96.7 9.99998 96.3 9.99998C96 9.99998 95.7 10.1 95.5 10.1C95.2 10.1 95 10.2 94.9 10.2V25.3H91.9V7.99998H92Z",fill:"#8B93A6"}),M("path",{d:"M116.2 15.5C116.9 16 117.6 16.7 118.4 17.5C119.2 18.3 119.9 19.1 120.7 20C121.4 20.9 122.2 21.8 122.8 22.8C123.5 23.7 124 24.6 124.5 25.4H120.7C120.2 24.6 119.7 23.8 119 22.9C118.4 22.1 117.7 21.3 117 20.5C116.3 19.7 115.6 19 114.9 18.4C114.2 17.8 113.6 17.2 112.9 16.8V25.4H109.9V1.19998L112.9 0.599976V15C113.5 14.4 114 13.8 114.7 13.2C115.4 12.5 116 11.9 116.7 11.2C117.3 10.5 118 9.89998 118.5 9.19998C119.1 8.59997 119.6 7.99998 120 7.49998H123.8C123.3 8.09998 122.7 8.69997 122.1 9.39997C121.5 10.1 120.8 10.8 120.2 11.5C119.5 12.2 118.9 12.9 118.2 13.6C117.4 14.2 116.8 14.9 116.2 15.5Z",fill:"#8B93A6"}),M("path",{d:"M16.7 3.39994C29.8 0.699941 37.7 12.3999 44.6 21.5999C47.1 24.8999 49.7 27.8999 53.5 29.7999C58 31.9999 63.3 31.7999 68.1 31.2999C68.9 31.1999 71.6 29.8999 69.5 30.0999C63.3 30.6999 57.4 30.1999 52.5 26.0999C48.8 22.9999 46.3 18.5999 43.3 14.9999C40.1 11.0999 36.7 7.09994 32.5 4.29994C27.9 1.29994 22.4 1.19994 17.3 2.29994C16.1 2.49994 14.5 3.89994 16.7 3.39994Z",fill:"#8B93A6"}),M("path",{d:"M38 25.3999H34.7L47.3 7.3999H50.6L38 25.3999Z",fill:"#8B93A6"})]}),on=e=>M("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"11.685",height:"12.3",viewBox:"0 0 11.685 12.3",fill:"none",id:e.id,children:[M("path",{d:"M5.843 9.225a3.382 3.382 0 1 0 0 -6.765 3.382 3.382 0 0 0 0 6.765Z",fill:"currentColor"}),M("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.442 0.013c1.353 0.085 2.621 0.761 3.55 1.691 1.099 1.183 1.692 2.621 1.692 4.313 0 1.353 -0.508 2.621 -1.353 3.72 -0.846 1.015 -2.03 1.776 -3.382 2.03 -1.353 0.254 -2.706 0.085 -3.889 -0.593 -1.183 -0.676 -2.114 -1.691 -2.621 -2.96C-0.068 6.945 -0.153 5.508 0.27 4.24c0.423 -1.353 1.183 -2.453 2.368 -3.214C3.737 0.265 5.09 -0.072 6.442 0.013Zm0.423 10.908a5.191 5.191 0 0 0 2.875 -1.776c0.676 -0.931 1.099 -2.029 1.015 -3.213 0 -1.353 -0.508 -2.706 -1.437 -3.635 -0.845 -0.846 -1.859 -1.353 -3.043 -1.437 -1.099 -0.085 -2.283 0.17 -3.213 0.846S1.455 3.311 1.117 4.495c-0.338 1.099 -0.338 2.283 0.17 3.382 0.508 1.099 1.268 1.944 2.283 2.537a4.531 4.531 0 0 0 3.298 0.508Z",fill:"currentColor"})]}),ln=()=>M("svg",{role:"img",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:M("g",{children:M("path",{d:"M9.79861 2.73316C8.75596 2.52577 7.67523 2.63221 6.69308 3.03903C5.71092 3.44585 4.87146 4.13478 4.28085 5.01869C3.83532 5.68548 3.54649 6.44064 3.43147 7.22775L2.72855 6.52483C2.53329 6.32957 2.21671 6.32957 2.02145 6.52483C1.82618 6.7201 1.82618 7.03668 2.02145 7.23194L3.49913 8.70963C3.59077 8.814 3.72519 8.87988 3.875 8.87988C4.02481 8.87988 4.15923 8.814 4.25087 8.70963L5.72855 7.23194C5.92382 7.03668 5.92382 6.7201 5.72855 6.52483C5.53329 6.32957 5.21671 6.32957 5.02145 6.52483L4.47599 7.07029C4.59219 6.53891 4.80707 6.03111 5.11232 5.57427C5.59305 4.8548 6.27633 4.29405 7.07576 3.96291C7.87519 3.63178 8.75485 3.54514 9.60352 3.71395C10.4522 3.88276 11.2317 4.29944 11.8436 4.91129C12.4554 5.52315 12.8721 6.3027 13.0409 7.15136C13.2097 8.00003 13.1231 8.8797 12.792 9.67912C12.4608 10.4786 11.9001 11.1618 11.1806 11.6426C10.4612 12.1233 9.61529 12.3799 8.75 12.3799C8.47386 12.3799 8.25 12.6037 8.25 12.8799C8.25 13.156 8.47386 13.3799 8.75 13.3799C9.81307 13.3799 10.8523 13.0646 11.7362 12.474C12.6201 11.8834 13.309 11.044 13.7159 10.0618C14.1227 9.07965 14.2291 7.99892 14.0217 6.95627C13.8143 5.91363 13.3024 4.95589 12.5507 4.20419C11.799 3.45248 10.8413 2.94056 9.79861 2.73316Z",fill:"currentColor"})})}),cn=()=>M("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:M("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6442 14.88C16.0842 14.1733 16.1109 13.3067 15.7509 12.5733L10.1242 1.30667C9.72423 0.506666 8.89756 0 8.00423 0C7.09756 0 6.28423 0.506666 5.88423 1.30667L0.244229 12.5733C-0.115771 13.3067 -0.0757712 14.1867 0.350895 14.88C0.777562 15.5733 1.5509 16 2.36423 16H13.6309C14.4576 16 15.2176 15.5733 15.6442 14.88ZM7.99468 9.8C8.43201 9.8 8.79467 9.43733 8.79467 9V5.8C8.80534 5.36267 8.44267 5 7.99468 5C7.54667 5 7.20534 5.36267 7.20534 5.8V9C7.20534 9.43733 7.55734 9.8 7.99468 9.8ZM8.29334 10.664C8.208 10.6213 8.12267 10.6107 8.03734 10.6107C8.032 10.6107 8.02667 10.608 8.02134 10.6053C8.016 10.6027 8.01067 10.6 8.00534 10.6C7.99284 10.6 7.98034 10.6037 7.96999 10.6067C7.96267 10.6088 7.95642 10.6107 7.952 10.6107C7.888 10.6107 7.824 10.632 7.76 10.6533C7.216 10.7707 6.8 11.2293 6.8 11.8053C6.8 12.4667 7.33334 13 7.99467 13C8.656 13 9.2 12.4667 9.2 11.8053C9.2 11.24 8.80534 10.792 8.29334 10.664Z",fill:"#F07E6E"})});function un(e){return[e.p?`p-${e.p}`:void 0,e.pt?`pt-${e.pt}`:void 0,e.pr?`pr-${e.pr}`:void 0,e.pb?`pb-${e.pb}`:void 0,e.pl?`pl-${e.pl}`:void 0,e.m?`m-${e.m}`:void 0,e.mt?`mt-${e.mt}`:void 0,e.mr?`mr-${e.mr}`:void 0,e.mb?`mb-${e.mb}`:void 0,e.ml?`ml-${e.ml}`:void 0]}const dn=e=>M("div",{role:"section",id:e.id,class:Xt(un(e)),children:e.children}),hn=e=>M("div",{role:"section",id:e.id,class:Xt([...un(e),"flexbox",e.flexDirection?`flexbox-direction-${e.flexDirection}`:void 0,e.alignItems?`flexbox-align-items-${e.alignItems}`:void 0,e.gap?`flexbox-gap-${e.gap}`:void 0]),children:e.children}),pn=e=>M(hn,{...e,children:[function(){if(e.children)return Array.isArray(e.children)?e.children.find((e=>e.type===fn)):e.children.type===fn?e.children:void 0}(),M("div",{class:"separator-wrapper",children:M("hr",{class:"separator"})}),function(){if(e.children)return Array.isArray(e.children)?e.children.find((e=>e.type===mn)):e.children.type===mn?e.children:void 0}()]}),fn=e=>M(m,{children:e.children}),mn=e=>M(m,{children:e.children}),_n=e=>{const{left:t,center:n,right:r}=ee((()=>(({link:e,primary:t,secondary:n})=>{var r,i,s,a,o,l,c,u,d,h,p,f;const m={left:[],center:[],right:[]};return e&&m[e.position].push(M("button",{id:null!==(r=null==e?void 0:e.id)&&void 0!==r?r:"footer-link-button",class:Xt(["button","body-small","text-interactive",e.order?`flex-order-${e.order}`:void 0]),form:null==e?void 0:e.form,type:null!==(i=null==e?void 0:e.type)&&void 0!==i?i:"button","aria-label":null!==(s=null==e?void 0:e.label)&&void 0!==s?s:"Back to events",onClick:null==e?void 0:e.onClick,disabled:null==e?void 0:e.disabled,children:[M(nn,{}),null!==(a=null==e?void 0:e.label)&&void 0!==a?a:"Back to events"]})),t&&m[t.position].push(M("button",{id:null!==(o=null==t?void 0:t.id)&&void 0!==o?o:"footer-primary-button",form:null==t?void 0:t.form,type:null!==(l=null==t?void 0:t.type)&&void 0!==l?l:"button","aria-label":null!==(c=null==t?void 0:t.label)&&void 0!==c?c:"Stop detection",class:Xt(["button-primary",(null==t?void 0:t.icon)?"text-with-icon":"",t.order?`flex-order-${t.order}`:void 0]),onClick:null==t?void 0:t.onClick,disabled:null==t?void 0:t.disabled,children:[null==t?void 0:t.icon,null!==(u=null==t?void 0:t.label)&&void 0!==u?u:"Stop detection"]})),n&&m[n.position].push(M("button",{id:null!==(d=null==n?void 0:n.id)&&void 0!==d?d:"footer-secondary-button",form:null==n?void 0:n.form,type:null!==(h=null==n?void 0:n.type)&&void 0!==h?h:"button","aria-label":null!==(p=null==n?void 0:n.label)&&void 0!==p?p:"Close",class:Xt(["button-secondary",(null==n?void 0:n.icon)?"text-with-icon":"",n.order?`flex-order-${n.order}`:void 0]),onClick:null==n?void 0:n.onClick,disabled:null==n?void 0:n.disabled,children:[null==n?void 0:n.icon,null!==(f=null==n?void 0:n.label)&&void 0!==f?f:"Close"]})),m})(e)),[e]);return M(hn,{children:[M(hn,{mr:"auto",gap:"8px",children:t}),M(hn,{mr:"auto",ml:"auto",gap:"8px",children:n}),M(hn,{ml:"auto",gap:"8px",children:r})]})},gn=e=>{var t,n;return M("p",{role:"paragraph",class:Xt([`text-${null!==(t=e.color)&&void 0!==t?t:"primary"}`,null!==(n=e.variant)&&void 0!==n?n:"body",e.withIcon?"text-with-icon":void 0]),id:e.id,children:e.children})},vn=e=>M("span",{role:"tooltip","data-tooltip":e.text,class:e.position,children:M(sn,{})}),yn=e=>{var t;return M("label",{class:Xt(["toggle","left"===e.labelPosition?"toggle-reverse":void 0]),children:[M("input",{id:e.id,class:"toggle-checkbox",type:"checkbox",checked:e.checked,disabled:e.disabled,"aria-label":e.label,onChange:e.onToggle}),M("span",{class:"toggle-switch"}),M(gn,{id:e.labelId,variant:e.labelVariant,withIcon:!0,color:e.labelColor,children:[e.label,e.tooltipText&&M(vn,{text:e.tooltipText,position:null!==(t=e.tooltipPosition)&&void 0!==t?t:"right"})]})]})},En=()=>{const[e,t]=xe(),n={onClick:()=>t({type:Lt}),position:"left"},[r,i]=J(!1);return M(tn,{children:[M(Jt,{children:M(dn,{mb:"16px",children:M("p",{class:"text-primary body",children:"To configure transactions, you can identify elements using the options below."})})}),M(Qt,{scrollable:!0,children:[M(hn,{flexDirection:"column",gap:"16px",children:[M("p",{class:"text-primary body",children:["The ",M("span",{class:"body-strong",children:"'Auto-detect elements'"})," option allows you to identify page elements by simply interacting with them, whether it's through clicking or pressing the enter key."]}),M(dn,{ml:"auto",mr:"auto",children:M("button",{id:"select-autodetect-transaction-element-button",type:"button","aria-label":"Auto-detect elements",class:"button-primary text-with-icon",onClick:()=>{t({type:Ft})},children:[M(rn,{})," Auto-detect elements"]})})]}),M(pn,{mt:"32px",mb:"32px",gap:"4px",children:M(fn,{children:M(yn,{id:"show-inspect-element-mode-toggle",label:"Advanced",labelVariant:"body-strong",labelPosition:"left",checked:r,onToggle:()=>{i((e=>!e))}})})}),r&&M("div",{class:"start-transaction-configuration-block",children:[M("p",{class:"text-primary body",children:["The ",M("span",{class:"body-strong",children:"'Select an element'"})," option lets you highlight any page element. Use it to configure the 'End element CSS selectors' field in transaction configurations, which is for selecting elements that may appear or disappear on the page."]}),M(dn,{ml:"auto",mr:"auto",children:M("button",{id:"select-transaction-element-button",type:"button","aria-label":"Select an element",class:"button-secondary",onClick:()=>{t({type:Ut})},children:"Select an element"})})]})]}),M(en,{children:[M(pn,{mt:"16px",mb:"16px",ml:"8px",mr:"8px"}),M(_n,{link:n})]})]})},bn=e=>{const[t,n]=J(0);return M("div",{id:"popup-footer","data-testid":"logo-footer",onClick:()=>{if(!e.clicks||!e.onSecretLogoClick)return;const r=t+1;n(r),r>=e.clicks&&(e.onSecretLogoClick(),n(0))},children:[M("span",{id:"popup-footer-text",class:"text-disabled sub",children:["Powered by"," "]}),M(an,{})]})},Tn=()=>{const{sendLevel:e,retrieveLevel:t,logLevel:n}=(({onMessage:e,postMessage:t})=>{const[n,r]=J(de.NONE),i=e=>{(null==e?void 0:e.extensionLogLevel)&&r(e.extensionLogLevel)};return Q((()=>(e.addEventListener(i),()=>e.removeEventListener(i))),[]),{sendLevel:e=>{r(e);const n={type:he.SendLogLevel,data:{logLevel:e}};t(n)},retrieveLevel:()=>{const e={type:he.RetrieveLogLevel};t(e)},logLevel:n}})(Ee());Q((()=>{t()}),[t]);const r=Object.values(de);return M("div",{class:"report sd-log-level-wrapper","data-testid":"log-level-dropdown-component",children:[M("label",{for:"log-level-dropdown",children:"Log level"})," ",M("select",{id:"log-level-dropdown","data-testid":"log-level-dropdown",value:n.name,onChange:t=>{var n,r;return r=(e=>{switch(e){case de.NONE.name:return de.NONE;case de.TRACE.name:return de.TRACE;case de.DEBUG.name:return de.DEBUG;case de.INFO.name:return de.INFO;case de.WARN.name:return de.WARN;case de.ERROR.name:return de.ERROR;default:return de.NONE}})(null!==(n=t.target.value)&&void 0!==n?n:""),e(r)},children:r.map((e=>M("option",{value:e.name,children:e.name})))})]})};function An(e){return new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e)}function wn(e,t=!1){const n=e.getTime()/1e3,r=Math.round(n%60*1e3)/1e3;let i=`${r.toFixed(t?0:3)} s`;const s=Math.round(n-r)/60;if(s){const e=s%60;i=`${e} min ${i}`;const t=(s-e)/60;if(t){const e=t%24;i=`${e} h ${i}`;const n=(t-e)/24;n&&(i=(n>1?`${n} days `:"1 day ")+i)}}return i}function xn(e){switch(e){case 1:return"Good";case 2:return"Average";case 3:return"Frustrating";default:return"Unspecified"}}function Cn(e){switch(e){case 1:return"Completed";case 2:return"Failed";case 3:return"Timeout";case 4:return"Aborted: page unloaded";case 5:return"Aborted: new transaction detected";case 6:return"Aborted: user input caught";default:return"Unspecified"}}var Sn,On,Nn;!function(e){const t="Current navigation URL",n="Network interface",r="Page load time",i="Date",s="Perceived experience level",a="Backend time",o="Network time",l="Client time",c="(technical preview)";let u,d,h,p;!function(e){e.APP_NAME={id:"451eec20-a10f-4f45-8ebf-68bcce6717f0",label:"Application",format:e=>null!=e?e:Nn.NOT_FOUND},e.KEY_PAGE_NAME={id:"5b6602e1-30e4-4928-802a-fef72310fda4",label:"Key page",format:e=>null!=e?e:Nn.NOT_FOUND}}(u=e.General||(e.General={})),function(e){e.URL={id:"43989784-c9a8-4e8c-8ab5-a3a5df7269b7",label:t},e.PAGE_LOAD_TIME={id:"99cc1a5c-a072-4d41-b901-a34fc1c278b8",label:r,format:e=>wn(new Date(1e3*e))},e.DATE={id:"f75d3df8-cadc-4224-9728-b74f47a2d1c3",label:i,format:e=>An(new Date(e))},e.PERCEIVED_EXPERIENCE_LEVEL={id:"e61d3d7c-ad6b-47cb-868b-2316ac0d947b",label:s,format:xn},e.NETWORK_INTERFACE={id:"9f845b97-a089-487a-83e3-7d1a82a9b386",label:n}}(d=e.HardNavigation||(e.HardNavigation={})),function(e){e.URL={id:"4ac13aa7-5b52-43fe-8165-52b3e2d98d11",label:t},e.STABLE_DOM_TIME={id:"ddba3d23-5b85-463c-bac5-05ae730ad763",label:r,format:e=>wn(new Date(1e3*e))},e.BACKEND_DURATION_SECONDS={id:"41801fcc-6391-43fc-a13c-19f6ddebee4a",label:a,format:e=>wn(new Date(1e3*e))},e.CLIENT_DURATION_SECONDS={id:"0f0cd210-2ee5-4ae4-9f8c-2445d4a215b1",label:l,format:e=>wn(new Date(1e3*e))},e.NETWORK_DURATION_SECONDS={id:"db91691e-1d13-4697-ae02-ebf2659e8643",label:o,format:e=>wn(new Date(1e3*e))},e.DATE={id:"4efd9b96-906b-4f08-829d-d4bcbf3ab62b",label:r,format:e=>An(new Date(e))},e.PERCEIVED_EXPERIENCE_LEVEL={id:"0a12c092-1783-4d0c-bb69-2b21fe57ef6b",label:s,format:xn},e.NETWORK_INTERFACE={id:"03f82494-528b-4732-8af2-7b3c8002ca52",label:n}}(h=e.SoftNavigation||(e.SoftNavigation={})),function(e){e.URL={id:"1d110664-db71-48b4-875e-31ec338445b2",label:t},e.NAME={id:"f8e8a289-317e-41cf-a2ce-0aa9db60ab9d",label:"Name"},e.AUTO_END_DETECTED={id:"708e4349-f3d7-4041-96fa-a37abb1c234a",label:"Transaction auto end detected"},e.DURATION_SECONDS={id:"d99c86fb-f789-4649-ab71-894d0efe2dfa",label:"Transaction duration time",format:e=>wn(new Date(1e3*e))},e.BACKEND_DURATION_SECONDS={id:"4f7b30ff-fe06-4eb3-8209-04f9b1eb7ca0",label:`${a} ${c}`,format:e=>wn(new Date(1e3*e))},e.CLIENT_DURATION_SECONDS={id:"e28f8901-0025-4952-98c1-75660abd5379",label:`${l} ${c}`,format:e=>wn(new Date(1e3*e))},e.NETWORK_DURATION_SECONDS={id:"8f7b6a30-e501-4f8d-8a84-fb142cbd6868",label:`${o} ${c}`,format:e=>wn(new Date(1e3*e))},e.STATUS={id:"618ce48f-94af-404e-9ada-cffa80ed69c9",label:"Status",format:Cn},e.DATE={id:"a84a6e3e-3808-4a39-a8e1-03a002993f35",label:i,format:e=>An(new Date(e))},e.PERCEIVED_EXPERIENCE_LEVEL={id:"f6aa8894-480f-42dc-b083-ed75591edb66",label:s,format:xn},e.NETWORK_INTERFACE={id:"829df4a0-b8f7-467a-ba21-c8023b7d5941",label:n}}(p=e.Transaction||(e.Transaction={}))}(Sn||(Sn={})),function(e){e.GENERAL="General",e.HARD_NAVIGATION="Hard Navigation",e.SOFT_NAVIGATION="Soft Navigation (technical preview)",e.READINESS_TIMING="Timings",e.TRANSACTION="Transaction"}(On||(On={})),function(e){e.NA="N/A",e.NOT_FOUND="Not found"}(Nn||(Nn={}));const kn=(e,t)=>M("ul",{"aria-label":e.title,children:[" ",e.fields.map((e=>{var n,r,i;if(Object.prototype.hasOwnProperty.call(e,"title"))return kn(e,t);const s=e,a=t.find((e=>e.id===s.id)),o=void 0===(null==a?void 0:a.value)||null===(null==a?void 0:a.value)?Nn.NA:null!==(r=null===(n=s.format)||void 0===n?void 0:n.call(s,a.value))&&void 0!==r?r:null===(i=null==a?void 0:a.value)||void 0===i?void 0:i.toString(),l=s.id.replace(/( |\.|_)/g,"-").toLowerCase();return M("li",{"data-testid":`${l}-data`,children:M("div",{class:Xt(["sd-metric-wrapper",(null==s?void 0:s.isMainMetric)?"sd-metric-main":void 0]),children:[M("span",{class:"sd-metric-title","data-testid":`${l}-label`,children:s.label})," ",M("div",{class:"sd-metric-value",title:o,"data-testid":`${l}-value`,children:o})]})},null==s?void 0:s.id)}))," "]}),Rn=()=>{const e=[{title:On.GENERAL,fields:[Sn.General.APP_NAME,Sn.General.KEY_PAGE_NAME]},{title:On.HARD_NAVIGATION,fields:[Sn.HardNavigation.DATE,Sn.HardNavigation.URL,Sn.HardNavigation.PAGE_LOAD_TIME,Sn.HardNavigation.PERCEIVED_EXPERIENCE_LEVEL,Sn.HardNavigation.NETWORK_INTERFACE]},{title:On.SOFT_NAVIGATION,fields:[Sn.SoftNavigation.DATE,Sn.SoftNavigation.URL,{title:On.READINESS_TIMING,fields:[Sn.SoftNavigation.STABLE_DOM_TIME,Sn.SoftNavigation.BACKEND_DURATION_SECONDS,Sn.SoftNavigation.CLIENT_DURATION_SECONDS,Sn.SoftNavigation.NETWORK_DURATION_SECONDS]},Sn.SoftNavigation.PERCEIVED_EXPERIENCE_LEVEL,Sn.SoftNavigation.NETWORK_INTERFACE]},{title:On.TRANSACTION,fields:[Sn.Transaction.NAME,Sn.Transaction.URL,Sn.Transaction.AUTO_END_DETECTED,Sn.Transaction.DATE,Sn.Transaction.STATUS,{title:On.READINESS_TIMING,fields:[Sn.Transaction.DURATION_SECONDS,Sn.Transaction.BACKEND_DURATION_SECONDS,Sn.Transaction.CLIENT_DURATION_SECONDS,Sn.Transaction.NETWORK_DURATION_SECONDS]},Sn.Transaction.PERCEIVED_EXPERIENCE_LEVEL,Sn.Transaction.NETWORK_INTERFACE]}],{metrics:t}=(({onMessage:e})=>{const[t,n]=J([]),r=e=>{e.extensionDataMessage&&n(e.extensionDataMessage.metrics)};return Q((()=>(e.addEventListener(r),()=>e.removeEventListener(r))),[]),{metrics:t}})(Ee());return M("div",{"data-testid":"metrics-component",children:M("div",{class:"report",children:[M("strong",{class:"report-header",children:[" ","Computed performance metrics for this page"," "]})," ",e.map((e=>kn(e,t)))]})})},In=()=>{const[e,t]=xe();return M(tn,{children:[M(Jt,{children:[M(hn,{alignItems:"center",flexDirection:"column",children:M("button",{id:"select-transaction-detection-mode-button",type:"button",class:"button-primary","aria-label":"Configure a transaction",onClick:()=>{t({type:It})},children:"Configure a transaction"})}),M(pn,{mt:"16px",mb:"16px",ml:"8px",mr:"8px"})]}),M(Qt,{scrollable:!0,children:M(dn,{pl:"16px",pr:"16px",children:[M(Rn,{}),M(Tn,{})]})}),M(en,{children:M(bn,{})})]})},Pn=({postMessage:e,onMessage:t},[n,r])=>{const i=te((e=>{(null==e?void 0:e.extensionElementDetection)&&r({type:Mt,payload:{element:{appId:e.extensionElementDetection.appId,cssSelector:e.extensionElementDetection.selector,eventType:e.extensionElementDetection.eventType,innerTextPattern:e.extensionElementDetection.innerTextPattern}}})}),[r]),s=()=>{e({type:he.StopDetectingInteraction}),t.removeEventListener(i)};Q((()=>{if(n.isDetectingElement)return e({type:he.StartDetectingInteraction}),t.addEventListener(i),()=>s()}),[n.isDetectingElement]),Q((()=>{const e=()=>{s()};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}),[])},Ln=e=>{var t;const[n,r]=J(!1),[i,s]=J(null!==(t=e.value)&&void 0!==t?t:"");return M("div",{"data-testid":"textarea-component-testid",class:Xt([e.copyable&&n?"textarea-check-icon":void 0,e.copyable&&!n?"textarea-copy-icon":void 0,"textarea-container"]),onClick:()=>{var t;e.copyable&&(navigator.clipboard.writeText(null!==(t=e.value)&&void 0!==t?t:""),r(!0),window.setTimeout((()=>{r(!1)}),1e3))},children:M("textarea",{class:"textarea",name:e.name,value:i,onInput:t=>{var n;null===(n=e.onInput)||void 0===n||n.call(e,t),s(t.currentTarget.value)},readonly:e.readonly,"aria-label":"Selector"})})},Dn=e=>M("div",{class:"textarea-header",children:[M(gn,{withIcon:!0,children:[e.title,e.tooltip&&M(vn,{text:e.tooltip,position:"right"})]}),e.showConfigureButton&&M("button",{class:"button-primary button-small","aria-label":"Configure",onClick:()=>{var t;return null===(t=e.onConfigureClick)||void 0===t?void 0:t.call(e)},children:"Configure"})]}),Un=e=>{var t;const[n,r]=xe();return M("ol",{id:"list-transaction-detected-element-selector",class:"list",children:null===(t=n.matches)||void 0===t?void 0:t.map(((t,n)=>M("li",{children:M(dn,{children:[e.showElementCounter&&M("p",{class:"text-primary",children:["Element ",n+1]}),M(Dn,{title:"Selector",tooltip:"CSS selectors are used to identify elements on a page, allowing you to configure transaction triggers\n                 with precision. These selectors precisely pinpoint elements based on attributes, classes, IDs,\n                 and their position within the document structure.",showConfigureButton:e.showConfigureButton,onConfigureClick:()=>{r({type:Bt}),r({type:Vt,payload:{element:{appId:t.appId,cssSelector:t.cssSelector,eventType:t.eventType,innerTextPattern:t.innerTextPattern}}})}}),M(Ln,{copyable:!0,readonly:!0,value:t.cssSelector})]})})))})},Mn=()=>{const[e,t]=xe();Pn(Ee(),[e,t]);const n={onClick:()=>{t({type:Dt}),t({type:Bt}),t({type:Lt})},position:"left"},r={id:"start-new-detection",onClick:()=>{t({type:Dt}),t({type:Ft})},label:"Start a new detection",position:"right"};return M(tn,{children:[M(Jt,{children:[M(gn,{id:"transaction-detecting-element-title",variant:"body-strong",withIcon:!0,children:["Auto-detection ",e.matches.length>0?"successful":"interrupted",","," ",e.matches.length," element",1!==e.matches.length?"s":""," ",1!==e.matches.length?"were":"was"," detected"]}),e.matches.length>0&&M(dn,{mt:"8px",children:M(gn,{children:["Copy one detected element in order to configure a transaction.",M("br",{}),"Once done, you can close this popup."]})}),M(pn,{mt:"16px",mb:"16px",ml:"8px",mr:"8px"})]}),M(Qt,{scrollable:!0,children:M(Un,{showElementCounter:!0,showConfigureButton:!0})}),M(en,{children:[M(pn,{mt:"16px",mb:"16px",ml:"8px",mr:"8px"}),0===e.matches.length?M(_n,{link:n,primary:r}):M(_n,{link:n,secondary:r})]})]})},Fn=()=>{const[e,t]=xe();Pn(Ee(),[e,t]);const n={label:"Stop detection",id:"stop-detection",onClick:()=>{t({type:Bt})},position:"right"};return M(tn,{children:[M(Jt,{children:[M(gn,{id:"transaction-detecting-element-title",variant:"body-strong",withIcon:!0,children:[M(on,{id:"recording-icon"})," Detecting page elements"]}),M(dn,{mt:"8px",children:M(gn,{variant:"body",color:"primary",children:"Interact with the elements on the page that you wish to identify through clicking."})}),M(gn,{variant:"sub",color:"secondary",children:"Elements are detected only within the monitored applications."}),M(pn,{mt:"16px",mb:"16px",ml:"8px",mr:"8px"})]}),M(Qt,{scrollable:!0,children:M(Un,{showElementCounter:!0,showConfigureButton:!0})}),M(en,{children:[M(pn,{mt:"16px",mb:"16px",ml:"8px",mr:"8px"}),0===e.matches.length?M(_n,{primary:n}):M(_n,{secondary:n})]})]})},Bn=({postMessage:e,onMessage:t},[n,r])=>{const i=te((e=>{(null==e?void 0:e.extensionElementInspect)&&(r({type:Mt,payload:{element:e.extensionElementInspect}}),r({type:Bt}))}),[]),s=()=>{e({type:he.StopInspector}),t.removeEventListener(i)},a=()=>{e({type:he.CleanupInspector}),t.removeEventListener(i)};return{cleanupInspector:a,useInspector:()=>{Q((()=>{if(ve("useInspectorPage","NXTK").debug("Trigger useInspector effect"),n.isDetectingElement)return ve("useInspectorPage","NXTK").debug("Start inspector"),e({type:he.StartInspector}),t.addEventListener(i),()=>{ve("useInspectorPage","NXTK").debug("Stop inspector"),s()}}),[n.isDetectingElement]),Q((()=>{const e=()=>{s(),a()};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}),[])}}},Zn=()=>M("div",{id:"transaction-inspector-popup-container",children:[M("p",{id:"transaction-inspector-popup-selecting-title",class:"text-primary body-strong",children:"Select elements"}),M("p",{class:"text-primary body",children:"Highlight the page element for transaction configuration."}),M("p",{class:"text-primary sub",children:"Elements are detected only within the monitored applications."})]}),Vn=()=>{const[e,t]=xe(),{cleanupInspector:n,useInspector:r}=Bn(Ee(),[e,t]);r();const i={onClick:()=>{n(),t({type:Bt}),t({type:Dt}),t({type:Lt})},position:"left"},s={label:"Select another element",id:"select-another-element",icon:M(ln,{}),onClick:()=>{t({type:Ut})},position:"right"};return M(tn,{children:[M(Jt,{children:[M(dn,{mb:"16px",children:M(Zn,{})}),M(pn,{mt:"16px",mb:"16px",ml:"8px",mr:"8px"})]}),M(Qt,{scrollable:!0,children:M(Un,{})}),M(en,{children:[M(pn,{mt:"16px",mb:"16px",ml:"8px",mr:"8px"}),M(_n,{link:i,secondary:s})]})]})},Yn=()=>{const[e,t]=xe(),{cleanupInspector:n,useInspector:r}=Bn(Ee(),[e,t]);r();const i={id:"stop-detecting-element",onClick:()=>{n(),t({type:Bt})},position:"right"};return M(tn,{children:[M(Jt,{children:[M(dn,{mb:"16px",children:M(Zn,{})}),M(pn,{mt:"16px",mb:"16px",ml:"8px",mr:"8px"})]}),M(Qt,{scrollable:!0,children:M(Un,{})}),M(en,{children:[M(pn,{mt:"16px",mb:"16px",ml:"8px",mr:"8px"}),M(_n,{primary:i})]})]})};function jn(e){switch(e){case"event":return"click";case"keyboardShortcut":return"enter_key";default:return ve("TransactionTransformer").error("Unknown event type: "+e),""}}var $n,Wn;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}($n||($n={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(Wn||(Wn={}));const Hn=$n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gn=e=>{switch(typeof e){case"undefined":return Hn.undefined;case"string":return Hn.string;case"number":return isNaN(e)?Hn.nan:Hn.number;case"boolean":return Hn.boolean;case"function":return Hn.function;case"bigint":return Hn.bigint;case"symbol":return Hn.symbol;case"object":return Array.isArray(e)?Hn.array:null===e?Hn.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Hn.promise:"undefined"!=typeof Map&&e instanceof Map?Hn.map:"undefined"!=typeof Set&&e instanceof Set?Hn.set:"undefined"!=typeof Date&&e instanceof Date?Hn.date:Hn.object;default:return Hn.unknown}},qn=$n.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Kn extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,$n.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Kn.create=e=>new Kn(e);const zn=(e,t)=>{let n;switch(e.code){case qn.invalid_type:n=e.received===Hn.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case qn.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,$n.jsonStringifyReplacer)}`;break;case qn.unrecognized_keys:n=`Unrecognized key(s) in object: ${$n.joinValues(e.keys,", ")}`;break;case qn.invalid_union:n="Invalid input";break;case qn.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${$n.joinValues(e.options)}`;break;case qn.invalid_enum_value:n=`Invalid enum value. Expected ${$n.joinValues(e.options)}, received '${e.received}'`;break;case qn.invalid_arguments:n="Invalid function arguments";break;case qn.invalid_return_type:n="Invalid function return type";break;case qn.invalid_date:n="Invalid date";break;case qn.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:$n.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case qn.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case qn.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case qn.custom:n="Invalid input";break;case qn.invalid_intersection_types:n="Intersection results could not be merged";break;case qn.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case qn.not_finite:n="Number must be finite";break;default:n=t.defaultError,$n.assertNever(e)}return{message:n}};let Jn=zn;function Xn(){return Jn}const Qn=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],a={...i,path:s};let o="";const l=r.filter((e=>!!e)).slice().reverse();for(const e of l)o=e(a,{data:t,defaultError:o}).message;return{...i,path:s,message:i.message||o}};function er(e,t){const n=Qn({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Xn(),zn].filter((e=>!!e))});e.common.issues.push(n)}class tr{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return nr;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return tr.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return nr;if("aborted"===i.status)return nr;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||void 0===i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const nr=Object.freeze({status:"aborted"}),rr=e=>({status:"dirty",value:e}),ir=e=>({status:"valid",value:e}),sr=e=>"aborted"===e.status,ar=e=>"dirty"===e.status,or=e=>"valid"===e.status,lr=e=>"undefined"!=typeof Promise&&e instanceof Promise;var cr;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(cr||(cr={}));class ur{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const dr=(e,t)=>{if(or(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Kn(e.common.issues);return this._error=t,this._error}}};function hr(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=r?r:t.defaultError}:{message:null!=n?n:t.defaultError},description:i}}class pr{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Gn(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Gn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new tr,ctx:{common:e.parent.common,data:e.data,parsedType:Gn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(lr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gn(e)},i=this._parseSync({data:e,path:r.path,parent:r});return dr(r,i)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gn(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(lr(r)?r:Promise.resolve(r));return dr(n,i)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),s=()=>r.addIssue({code:qn.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then((e=>!!e||(s(),!1))):!!i||(s(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new ei({schema:this,typeName:hi.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ti.create(this,this._def)}nullable(){return ni.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dr.create(this,this._def)}promise(){return Qr.create(this,this._def)}or(e){return Fr.create([this,e],this._def)}and(e){return Yr.create(this,e,this._def)}transform(e){return new ei({...hr(this._def),schema:this,typeName:hi.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ri({...hr(this._def),innerType:this,defaultValue:t,typeName:hi.ZodDefault})}brand(){return new oi({typeName:hi.ZodBranded,type:this,...hr(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new ii({...hr(this._def),innerType:this,catchValue:t,typeName:hi.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return li.create(this,e)}readonly(){return ci.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fr=/^c[^\s-]{8,}$/i,mr=/^[a-z][a-z0-9]*$/,_r=/^[0-9A-HJKMNP-TV-Z]{26}$/,gr=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vr=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let yr;const Er=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,br=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;class Tr extends pr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Hn.string){const t=this._getOrReturnCtx(e);return er(t,{code:qn.invalid_type,expected:Hn.string,received:t.parsedType}),nr}const t=new tr;let n;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),er(n,{code:qn.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("max"===a.kind)e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),er(n,{code:qn.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("length"===a.kind){const r=e.data.length>a.value,i=e.data.length<a.value;(r||i)&&(n=this._getOrReturnCtx(e,n),r?er(n,{code:qn.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&er(n,{code:qn.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),t.dirty())}else if("email"===a.kind)vr.test(e.data)||(n=this._getOrReturnCtx(e,n),er(n,{validation:"email",code:qn.invalid_string,message:a.message}),t.dirty());else if("emoji"===a.kind)yr||(yr=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),yr.test(e.data)||(n=this._getOrReturnCtx(e,n),er(n,{validation:"emoji",code:qn.invalid_string,message:a.message}),t.dirty());else if("uuid"===a.kind)gr.test(e.data)||(n=this._getOrReturnCtx(e,n),er(n,{validation:"uuid",code:qn.invalid_string,message:a.message}),t.dirty());else if("cuid"===a.kind)fr.test(e.data)||(n=this._getOrReturnCtx(e,n),er(n,{validation:"cuid",code:qn.invalid_string,message:a.message}),t.dirty());else if("cuid2"===a.kind)mr.test(e.data)||(n=this._getOrReturnCtx(e,n),er(n,{validation:"cuid2",code:qn.invalid_string,message:a.message}),t.dirty());else if("ulid"===a.kind)_r.test(e.data)||(n=this._getOrReturnCtx(e,n),er(n,{validation:"ulid",code:qn.invalid_string,message:a.message}),t.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),er(n,{validation:"url",code:qn.invalid_string,message:a.message}),t.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),er(n,{validation:"regex",code:qn.invalid_string,message:a.message}),t.dirty())):"trim"===a.kind?e.data=e.data.trim():"includes"===a.kind?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),er(n,{code:qn.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),t.dirty()):"toLowerCase"===a.kind?e.data=e.data.toLowerCase():"toUpperCase"===a.kind?e.data=e.data.toUpperCase():"startsWith"===a.kind?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),er(n,{code:qn.invalid_string,validation:{startsWith:a.value},message:a.message}),t.dirty()):"endsWith"===a.kind?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),er(n,{code:qn.invalid_string,validation:{endsWith:a.value},message:a.message}),t.dirty()):"datetime"===a.kind?((s=a).precision?s.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${s.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${s.precision}}Z$`):0===s.precision?s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),er(n,{code:qn.invalid_string,validation:"datetime",message:a.message}),t.dirty()):"ip"===a.kind?(r=e.data,("v4"!==(i=a.version)&&i||!Er.test(r))&&("v6"!==i&&i||!br.test(r))&&(n=this._getOrReturnCtx(e,n),er(n,{validation:"ip",code:qn.invalid_string,message:a.message}),t.dirty())):$n.assertNever(a);var r,i,s;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:qn.invalid_string,...cr.errToObj(n)})}_addCheck(e){return new Tr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...cr.errToObj(e)})}url(e){return this._addCheck({kind:"url",...cr.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...cr.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...cr.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...cr.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...cr.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...cr.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...cr.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...cr.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...cr.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...cr.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...cr.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...cr.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...cr.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...cr.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...cr.errToObj(t)})}nonempty(e){return this.min(1,cr.errToObj(e))}trim(){return new Tr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Tr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Tr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Ar(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}Tr.create=e=>{var t;return new Tr({checks:[],typeName:hi.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...hr(e)})};class wr extends pr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Hn.number){const t=this._getOrReturnCtx(e);return er(t,{code:qn.invalid_type,expected:Hn.number,received:t.parsedType}),nr}let t;const n=new tr;for(const r of this._def.checks)"int"===r.kind?$n.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),er(t,{code:qn.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),er(t,{code:qn.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),er(t,{code:qn.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==Ar(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),er(t,{code:qn.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),er(t,{code:qn.not_finite,message:r.message}),n.dirty()):$n.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,cr.toString(t))}gt(e,t){return this.setLimit("min",e,!1,cr.toString(t))}lte(e,t){return this.setLimit("max",e,!0,cr.toString(t))}lt(e,t){return this.setLimit("max",e,!1,cr.toString(t))}setLimit(e,t,n,r){return new wr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:cr.toString(r)}]})}_addCheck(e){return new wr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:cr.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:cr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:cr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:cr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:cr.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:cr.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:cr.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:cr.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:cr.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&$n.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}wr.create=e=>new wr({checks:[],typeName:hi.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...hr(e)});class xr extends pr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Hn.bigint){const t=this._getOrReturnCtx(e);return er(t,{code:qn.invalid_type,expected:Hn.bigint,received:t.parsedType}),nr}let t;const n=new tr;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),er(t,{code:qn.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),er(t,{code:qn.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),er(t,{code:qn.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):$n.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,cr.toString(t))}gt(e,t){return this.setLimit("min",e,!1,cr.toString(t))}lte(e,t){return this.setLimit("max",e,!0,cr.toString(t))}lt(e,t){return this.setLimit("max",e,!1,cr.toString(t))}setLimit(e,t,n,r){return new xr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:cr.toString(r)}]})}_addCheck(e){return new xr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:cr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:cr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:cr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:cr.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:cr.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}xr.create=e=>{var t;return new xr({checks:[],typeName:hi.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...hr(e)})};class Cr extends pr{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==Hn.boolean){const t=this._getOrReturnCtx(e);return er(t,{code:qn.invalid_type,expected:Hn.boolean,received:t.parsedType}),nr}return ir(e.data)}}Cr.create=e=>new Cr({typeName:hi.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...hr(e)});class Sr extends pr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Hn.date){const t=this._getOrReturnCtx(e);return er(t,{code:qn.invalid_type,expected:Hn.date,received:t.parsedType}),nr}if(isNaN(e.data.getTime()))return er(this._getOrReturnCtx(e),{code:qn.invalid_date}),nr;const t=new tr;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),er(n,{code:qn.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),er(n,{code:qn.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):$n.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Sr({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:cr.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:cr.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Sr.create=e=>new Sr({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:hi.ZodDate,...hr(e)});class Or extends pr{_parse(e){if(this._getType(e)!==Hn.symbol){const t=this._getOrReturnCtx(e);return er(t,{code:qn.invalid_type,expected:Hn.symbol,received:t.parsedType}),nr}return ir(e.data)}}Or.create=e=>new Or({typeName:hi.ZodSymbol,...hr(e)});class Nr extends pr{_parse(e){if(this._getType(e)!==Hn.undefined){const t=this._getOrReturnCtx(e);return er(t,{code:qn.invalid_type,expected:Hn.undefined,received:t.parsedType}),nr}return ir(e.data)}}Nr.create=e=>new Nr({typeName:hi.ZodUndefined,...hr(e)});class kr extends pr{_parse(e){if(this._getType(e)!==Hn.null){const t=this._getOrReturnCtx(e);return er(t,{code:qn.invalid_type,expected:Hn.null,received:t.parsedType}),nr}return ir(e.data)}}kr.create=e=>new kr({typeName:hi.ZodNull,...hr(e)});class Rr extends pr{constructor(){super(...arguments),this._any=!0}_parse(e){return ir(e.data)}}Rr.create=e=>new Rr({typeName:hi.ZodAny,...hr(e)});class Ir extends pr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ir(e.data)}}Ir.create=e=>new Ir({typeName:hi.ZodUnknown,...hr(e)});class Pr extends pr{_parse(e){const t=this._getOrReturnCtx(e);return er(t,{code:qn.invalid_type,expected:Hn.never,received:t.parsedType}),nr}}Pr.create=e=>new Pr({typeName:hi.ZodNever,...hr(e)});class Lr extends pr{_parse(e){if(this._getType(e)!==Hn.undefined){const t=this._getOrReturnCtx(e);return er(t,{code:qn.invalid_type,expected:Hn.void,received:t.parsedType}),nr}return ir(e.data)}}Lr.create=e=>new Lr({typeName:hi.ZodVoid,...hr(e)});class Dr extends pr{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==Hn.array)return er(t,{code:qn.invalid_type,expected:Hn.array,received:t.parsedType}),nr;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(er(t,{code:e?qn.too_big:qn.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(er(t,{code:qn.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(er(t,{code:qn.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new ur(t,e,t.path,n))))).then((e=>tr.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new ur(t,e,t.path,n))));return tr.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new Dr({...this._def,minLength:{value:e,message:cr.toString(t)}})}max(e,t){return new Dr({...this._def,maxLength:{value:e,message:cr.toString(t)}})}length(e,t){return new Dr({...this._def,exactLength:{value:e,message:cr.toString(t)}})}nonempty(e){return this.min(1,e)}}function Ur(e){if(e instanceof Mr){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=ti.create(Ur(r))}return new Mr({...e._def,shape:()=>t})}return e instanceof Dr?new Dr({...e._def,type:Ur(e.element)}):e instanceof ti?ti.create(Ur(e.unwrap())):e instanceof ni?ni.create(Ur(e.unwrap())):e instanceof jr?jr.create(e.items.map((e=>Ur(e)))):e}Dr.create=(e,t)=>new Dr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:hi.ZodArray,...hr(t)});class Mr extends pr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=$n.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Hn.object){const t=this._getOrReturnCtx(e);return er(t,{code:qn.invalid_type,expected:Hn.object,received:t.parsedType}),nr}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof Pr&&"strip"===this._def.unknownKeys))for(const e in n.data)i.includes(e)||s.push(e);const a=[];for(const e of i){const t=r[e],i=n.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new ur(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Pr){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of s)a.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)s.length>0&&(er(n,{code:qn.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const r=n.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new ur(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of a){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>tr.mergeObjectSync(t,e))):tr.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return cr.errToObj,new Mr({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,s,a;const o=null!==(s=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==s?s:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=cr.errToObj(e).message)&&void 0!==a?a:o}:{message:o}}}:{}})}strip(){return new Mr({...this._def,unknownKeys:"strip"})}passthrough(){return new Mr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Mr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Mr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:hi.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Mr({...this._def,catchall:e})}pick(e){const t={};return $n.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Mr({...this._def,shape:()=>t})}omit(e){const t={};return $n.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Mr({...this._def,shape:()=>t})}deepPartial(){return Ur(this)}partial(e){const t={};return $n.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new Mr({...this._def,shape:()=>t})}required(e){const t={};return $n.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof ti;)e=e._def.innerType;t[n]=e}})),new Mr({...this._def,shape:()=>t})}keyof(){return zr($n.objectKeys(this.shape))}}Mr.create=(e,t)=>new Mr({shape:()=>e,unknownKeys:"strip",catchall:Pr.create(),typeName:hi.ZodObject,...hr(t)}),Mr.strictCreate=(e,t)=>new Mr({shape:()=>e,unknownKeys:"strict",catchall:Pr.create(),typeName:hi.ZodObject,...hr(t)}),Mr.lazycreate=(e,t)=>new Mr({shape:e,unknownKeys:"strip",catchall:Pr.create(),typeName:hi.ZodObject,...hr(t)});class Fr extends pr{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new Kn(e.ctx.common.issues)));return er(t,{code:qn.invalid_union,unionErrors:n}),nr}));{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new Kn(e)));return er(t,{code:qn.invalid_union,unionErrors:i}),nr}}get options(){return this._def.options}}Fr.create=(e,t)=>new Fr({options:e,typeName:hi.ZodUnion,...hr(t)});const Br=e=>e instanceof qr?Br(e.schema):e instanceof ei?Br(e.innerType()):e instanceof Kr?[e.value]:e instanceof Jr?e.options:e instanceof Xr?Object.keys(e.enum):e instanceof ri?Br(e._def.innerType):e instanceof Nr?[void 0]:e instanceof kr?[null]:null;class Zr extends pr{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Hn.object)return er(t,{code:qn.invalid_type,expected:Hn.object,received:t.parsedType}),nr;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(er(t,{code:qn.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),nr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=Br(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(r.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,n)}}return new Zr({typeName:hi.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...hr(n)})}}function Vr(e,t){const n=Gn(e),r=Gn(t);if(e===t)return{valid:!0,data:e};if(n===Hn.object&&r===Hn.object){const n=$n.objectKeys(t),r=$n.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i={...e,...t};for(const n of r){const r=Vr(e[n],t[n]);if(!r.valid)return{valid:!1};i[n]=r.data}return{valid:!0,data:i}}if(n===Hn.array&&r===Hn.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=Vr(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===Hn.date&&r===Hn.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Yr extends pr{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(sr(e)||sr(r))return nr;const i=Vr(e.value,r.value);return i.valid?((ar(e)||ar(r))&&t.dirty(),{status:t.value,value:i.data}):(er(n,{code:qn.invalid_intersection_types}),nr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Yr.create=(e,t,n)=>new Yr({left:e,right:t,typeName:hi.ZodIntersection,...hr(n)});class jr extends pr{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Hn.array)return er(n,{code:qn.invalid_type,expected:Hn.array,received:n.parsedType}),nr;if(n.data.length<this._def.items.length)return er(n,{code:qn.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nr;!this._def.rest&&n.data.length>this._def.items.length&&(er(n,{code:qn.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new ur(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>tr.mergeArray(t,e))):tr.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new jr({...this._def,rest:e})}}jr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jr({items:e,typeName:hi.ZodTuple,rest:null,...hr(t)})};class $r extends pr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Hn.object)return er(n,{code:qn.invalid_type,expected:Hn.object,received:n.parsedType}),nr;const r=[],i=this._def.keyType,s=this._def.valueType;for(const e in n.data)r.push({key:i._parse(new ur(n,e,n.path,e)),value:s._parse(new ur(n,n.data[e],n.path,e))});return n.common.async?tr.mergeObjectAsync(t,r):tr.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new $r(t instanceof pr?{keyType:e,valueType:t,typeName:hi.ZodRecord,...hr(n)}:{keyType:Tr.create(),valueType:e,typeName:hi.ZodRecord,...hr(t)})}}class Wr extends pr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Hn.map)return er(n,{code:qn.invalid_type,expected:Hn.map,received:n.parsedType}),nr;const r=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map((([e,t],s)=>({key:r._parse(new ur(n,e,n.path,[s,"key"])),value:i._parse(new ur(n,t,n.path,[s,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of s){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return nr;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of s){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return nr;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}Wr.create=(e,t,n)=>new Wr({valueType:t,keyType:e,typeName:hi.ZodMap,...hr(n)});class Hr extends pr{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Hn.set)return er(n,{code:qn.invalid_type,expected:Hn.set,received:n.parsedType}),nr;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(er(n,{code:qn.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(er(n,{code:qn.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function s(e){const n=new Set;for(const r of e){if("aborted"===r.status)return nr;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const a=[...n.data.values()].map(((e,t)=>i._parse(new ur(n,e,n.path,t))));return n.common.async?Promise.all(a).then((e=>s(e))):s(a)}min(e,t){return new Hr({...this._def,minSize:{value:e,message:cr.toString(t)}})}max(e,t){return new Hr({...this._def,maxSize:{value:e,message:cr.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Hr.create=(e,t)=>new Hr({valueType:e,minSize:null,maxSize:null,typeName:hi.ZodSet,...hr(t)});class Gr extends pr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Hn.function)return er(t,{code:qn.invalid_type,expected:Hn.function,received:t.parsedType}),nr;function n(e,n){return Qn({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Xn(),zn].filter((e=>!!e)),issueData:{code:qn.invalid_arguments,argumentsError:n}})}function r(e,n){return Qn({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Xn(),zn].filter((e=>!!e)),issueData:{code:qn.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof Qr){const e=this;return ir((async function(...t){const a=new Kn([]),o=await e._def.args.parseAsync(t,i).catch((e=>{throw a.addIssue(n(t,e)),a})),l=await Reflect.apply(s,this,o),c=await e._def.returns._def.type.parseAsync(l,i).catch((e=>{throw a.addIssue(r(l,e)),a}));return c}))}{const e=this;return ir((function(...t){const a=e._def.args.safeParse(t,i);if(!a.success)throw new Kn([n(t,a.error)]);const o=Reflect.apply(s,this,a.data),l=e._def.returns.safeParse(o,i);if(!l.success)throw new Kn([r(o,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Gr({...this._def,args:jr.create(e).rest(Ir.create())})}returns(e){return new Gr({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Gr({args:e||jr.create([]).rest(Ir.create()),returns:t||Ir.create(),typeName:hi.ZodFunction,...hr(n)})}}class qr extends pr{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}qr.create=(e,t)=>new qr({getter:e,typeName:hi.ZodLazy,...hr(t)});class Kr extends pr{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return er(t,{received:t.data,code:qn.invalid_literal,expected:this._def.value}),nr}return{status:"valid",value:e.data}}get value(){return this._def.value}}function zr(e,t){return new Jr({values:e,typeName:hi.ZodEnum,...hr(t)})}Kr.create=(e,t)=>new Kr({value:e,typeName:hi.ZodLiteral,...hr(t)});class Jr extends pr{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return er(t,{expected:$n.joinValues(n),received:t.parsedType,code:qn.invalid_type}),nr}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return er(t,{received:t.data,code:qn.invalid_enum_value,options:n}),nr}return ir(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Jr.create(e)}exclude(e){return Jr.create(this.options.filter((t=>!e.includes(t))))}}Jr.create=zr;class Xr extends pr{_parse(e){const t=$n.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Hn.string&&n.parsedType!==Hn.number){const e=$n.objectValues(t);return er(n,{expected:$n.joinValues(e),received:n.parsedType,code:qn.invalid_type}),nr}if(-1===t.indexOf(e.data)){const e=$n.objectValues(t);return er(n,{received:n.data,code:qn.invalid_enum_value,options:e}),nr}return ir(e.data)}get enum(){return this._def.values}}Xr.create=(e,t)=>new Xr({values:e,typeName:hi.ZodNativeEnum,...hr(t)});class Qr extends pr{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Hn.promise&&!1===t.common.async)return er(t,{code:qn.invalid_type,expected:Hn.promise,received:t.parsedType}),nr;const n=t.parsedType===Hn.promise?t.data:Promise.resolve(t.data);return ir(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Qr.create=(e,t)=>new Qr({type:e,typeName:hi.ZodPromise,...hr(t)});class ei extends pr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===hi.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{er(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?nr:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?nr:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!or(e))return e;const s=r.transform(e.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>or(e)?Promise.resolve(r.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}$n.assertNever(r)}}ei.create=(e,t,n)=>new ei({schema:e,typeName:hi.ZodEffects,effect:t,...hr(n)}),ei.createWithPreprocess=(e,t,n)=>new ei({schema:t,effect:{type:"preprocess",transform:e},typeName:hi.ZodEffects,...hr(n)});class ti extends pr{_parse(e){return this._getType(e)===Hn.undefined?ir(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ti.create=(e,t)=>new ti({innerType:e,typeName:hi.ZodOptional,...hr(t)});class ni extends pr{_parse(e){return this._getType(e)===Hn.null?ir(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ni.create=(e,t)=>new ni({innerType:e,typeName:hi.ZodNullable,...hr(t)});class ri extends pr{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Hn.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ri.create=(e,t)=>new ri({innerType:e,typeName:hi.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...hr(t)});class ii extends pr{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return lr(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Kn(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new Kn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ii.create=(e,t)=>new ii({innerType:e,typeName:hi.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...hr(t)});class si extends pr{_parse(e){if(this._getType(e)!==Hn.nan){const t=this._getOrReturnCtx(e);return er(t,{code:qn.invalid_type,expected:Hn.nan,received:t.parsedType}),nr}return{status:"valid",value:e.data}}}si.create=e=>new si({typeName:hi.ZodNaN,...hr(e)});const ai=Symbol("zod_brand");class oi extends pr{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class li extends pr{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?nr:"dirty"===e.status?(t.dirty(),rr(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?nr:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new li({in:e,out:t,typeName:hi.ZodPipeline})}}class ci extends pr{_parse(e){const t=this._def.innerType._parse(e);return or(t)&&(t.value=Object.freeze(t.value)),t}}ci.create=(e,t)=>new ci({innerType:e,typeName:hi.ZodReadonly,...hr(t)});const ui=(e,t={},n)=>e?Rr.create().superRefine(((r,i)=>{var s,a;if(!e(r)){const e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,o=null===(a=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===a||a,l="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...l,fatal:o})}})):Rr.create(),di={object:Mr.lazycreate};var hi;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(hi||(hi={}));const pi=Tr.create,fi=wr.create,mi=si.create,_i=xr.create,gi=Cr.create,vi=Sr.create,yi=Or.create,Ei=Nr.create,bi=kr.create,Ti=Rr.create,Ai=Ir.create,wi=Pr.create,xi=Lr.create,Ci=Dr.create,Si=Mr.create,Oi=Mr.strictCreate,Ni=Fr.create,ki=Zr.create,Ri=Yr.create,Ii=jr.create,Pi=$r.create,Li=Wr.create,Di=Hr.create,Ui=Gr.create,Mi=qr.create,Fi=Kr.create,Bi=Jr.create,Zi=Xr.create,Vi=Qr.create,Yi=ei.create,ji=ti.create,$i=ni.create,Wi=ei.createWithPreprocess,Hi=li.create,Gi={string:e=>Tr.create({...e,coerce:!0}),number:e=>wr.create({...e,coerce:!0}),boolean:e=>Cr.create({...e,coerce:!0}),bigint:e=>xr.create({...e,coerce:!0}),date:e=>Sr.create({...e,coerce:!0})},qi=nr;var Ki=Object.freeze({__proto__:null,defaultErrorMap:zn,setErrorMap:function(e){Jn=e},getErrorMap:Xn,makeIssue:Qn,EMPTY_PATH:[],addIssueToContext:er,ParseStatus:tr,INVALID:nr,DIRTY:rr,OK:ir,isAborted:sr,isDirty:ar,isValid:or,isAsync:lr,get util(){return $n},get objectUtil(){return Wn},ZodParsedType:Hn,getParsedType:Gn,ZodType:pr,ZodString:Tr,ZodNumber:wr,ZodBigInt:xr,ZodBoolean:Cr,ZodDate:Sr,ZodSymbol:Or,ZodUndefined:Nr,ZodNull:kr,ZodAny:Rr,ZodUnknown:Ir,ZodNever:Pr,ZodVoid:Lr,ZodArray:Dr,ZodObject:Mr,ZodUnion:Fr,ZodDiscriminatedUnion:Zr,ZodIntersection:Yr,ZodTuple:jr,ZodRecord:$r,ZodMap:Wr,ZodSet:Hr,ZodFunction:Gr,ZodLazy:qr,ZodLiteral:Kr,ZodEnum:Jr,ZodNativeEnum:Xr,ZodPromise:Qr,ZodEffects:ei,ZodTransformer:ei,ZodOptional:ti,ZodNullable:ni,ZodDefault:ri,ZodCatch:ii,ZodNaN:si,BRAND:ai,ZodBranded:oi,ZodPipeline:li,ZodReadonly:ci,custom:ui,Schema:pr,ZodSchema:pr,late:di,get ZodFirstPartyTypeKind(){return hi},coerce:Gi,any:Ti,array:Ci,bigint:_i,boolean:gi,date:vi,discriminatedUnion:ki,effect:Yi,enum:Bi,function:Ui,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>ui((t=>t instanceof e),t),intersection:Ri,lazy:Mi,literal:Fi,map:Li,nan:mi,nativeEnum:Zi,never:wi,null:bi,nullable:$i,number:fi,object:Si,oboolean:()=>gi().optional(),onumber:()=>fi().optional(),optional:ji,ostring:()=>pi().optional(),pipeline:Hi,preprocess:Wi,promise:Vi,record:Pi,set:Di,strictObject:Oi,string:pi,symbol:yi,transformer:Yi,tuple:Ii,undefined:Ei,union:Ni,unknown:Ai,void:xi,NEVER:qi,ZodIssueCode:qn,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Kn});const zi=e=>{return M("div",{id:"transaction-export-element-error",children:[M("div",{id:"transaction-export-element-error-icon",children:M(cn,{})}),M("div",{children:[M(gn,{children:"Please correct the following issues:"}),M("ul",{id:"transaction-export-element-error-list",class:"text-primary body",children:(t=e.errors,Object.entries(t).flatMap((([e,t])=>t.map((e=>e))),[])).map((e=>M("li",{class:"error",children:e})))})]})]});var t},Ji=e=>{var t,n,r;const i=null!==(t=e.id)&&void 0!==t?t:re();return M(m,{children:[M("label",{for:i,class:Xt(["text-primary","body-strong",e.tooltipText?"text-with-icon":void 0]),children:[e.label,e.tooltipText&&M(vn,{text:e.tooltipText,position:null!==(n=e.tooltipPosition)&&void 0!==n?n:"right"})]}),M("div",{class:"input-text-wrapper",children:[M("input",{placeholder:e.placeholder,id:i,class:Xt(["input-text",e.invalid?"invalid":void 0]),type:"text",inputMode:null!==(r=e.inputMode)&&void 0!==r?r:"text",name:e.name,value:e.value,"aria-label":e.label,onInput:e.onInput}),M("div",{class:"input-text-error",children:M(cn,{})})]})]})},Xi=Ki.object({transactionName:Ki.string({description:"Transaction name"}).min(1,{message:"Transaction name is required."}).regex(/^[\w\d_\-\ ]*?$/,{message:"Transaction name is invalid. It can only contain letters, numbers, spaces, underscores and dashes."})}),Qi=e=>{const[t,n]=J();return M("form",{id:"transaction-export-element-form",role:"form",onSubmit:t=>{t.preventDefault();const r=(i=Object.fromEntries(new FormData(t.currentTarget).entries()),Xi.safeParse(i));var i;if(r.success)return n(void 0),void e.onSubmit(r.data);n(r.error.flatten())},children:[t&&M(dn,{mb:"16px",children:M(zi,{errors:t.fieldErrors})}),M(Ji,{label:"Transaction name",placeholder:"Name here",id:"transaction-name",name:"transactionName",invalid:("transactionName",!!(null===(r=null==t?void 0:t.fieldErrors.transactionName)||void 0===r?void 0:r.length))})]});var r},es=()=>{const[e,t]=xe(),n={label:"Back",onClick:()=>{t({type:Pt})},position:"left"};return M(tn,{children:[M(Jt,{children:M(gn,{variant:"heading4",withIcon:!0,id:"transaction-export-element-title",children:["Export transaction",M(vn,{text:"You can export a transaction configuration and\n                 import it through the “Manage applications” page.\n                 Please note that this export configures auto-end detection by default,\n                 and you may need to fine-tune it using the advanced settings in the web portal.",position:"right"})]})}),M(Qt,{scrollable:!0,children:M(Qi,{onSubmit:async t=>{const n=await async function(e){try{return await Ae().permissions.request({permissions:e})}catch(t){return ve("permission-checker").error(`Error requesting ${e.join(", ")} permission(s)`,t),!1}}(["downloads"]);if(!n)return;if(!e.configurationTransaction)return;const{appId:r,...i}=e.configurationTransaction;var s,a,o,l,c,u,d,h;!function(e){const t=JSON.stringify(e,void 0,2),n=new Blob([t],{type:"text/json"}),r=URL.createObjectURL(n);Ae().downloads.download({url:r,filename:`${e.configData.transactions[0].name}.json`,saveAs:!1}),Ae().downloads.showDefaultFolder()}((s=st.create({...i,name:t.transactionName}),{version:"1.1.0",configData:{transactions:[{id:s.id.value,name:s.name,isAutomaticEndDetection:!0,startElementName:null===(a=s.startTriggers.at(0))||void 0===a?void 0:a.name,startElementEventType:jn(null!==(l=null===(o=s.startTriggers.at(0))||void 0===o?void 0:o.mechanism.$case)&&void 0!==l?l:""),startElementSelector:null===(c=s.startTriggers.at(0))||void 0===c?void 0:c.element.cssSelector,startTriggerId:null===(u=s.startTriggers.at(0))||void 0===u?void 0:u.id.value,startAllMatchingElements:null===(d=s.startTriggers.at(0))||void 0===d?void 0:d.element.selectAll,startElementTextPattern:null===(h=s.startTriggers.at(0))||void 0===h?void 0:h.element.innerTextPattern,endElementNewOnly:!1,endAllMatchingElements:!1,endElementChangeClass:"",endElementSelector:"",endElementEventType:"appear",endElementName:"",endTriggerId:""}]}}))}})}),M(en,{children:[M(pn,{mt:"16px",mb:"16px",ml:"8px",mr:"8px"}),M(_n,{link:n,primary:{label:"Export",id:"export-transaction",type:"submit",form:"transaction-export-element-form",position:"right"}})]})]})},ts=e=>{var t;return M("label",{children:[M("input",{type:"radio",id:null!==(t=e.id)&&void 0!==t?t:re(),class:"input-radio",checked:e.checked,"aria-label":e.label,name:e.name,value:e.value,onInput:e.onInput}),e.label]})},ns=e=>{var t;return M("label",{children:[M("input",{type:"checkbox",id:null!==(t=e.id)&&void 0!==t?t:re(),class:"input-checkbox",value:e.value,"aria-label":e.label,checked:e.checked,name:e.name,onInput:e.onInput}),e.label]})},rs=e=>{var t,n,r;const[i,s]=J(function(e){var t,n,r,i,s,a,o,l,c,u,d;return{selector:null!==(r=null===(n=null===(t=e.startTriggers.at(0))||void 0===t?void 0:t.element)||void 0===n?void 0:n.cssSelector)&&void 0!==r?r:"",eventType:"keyboardShortcut"===(null===(s=null===(i=e.startTriggers.at(0))||void 0===i?void 0:i.mechanism)||void 0===s?void 0:s.$case)?"keyboard-shortcut":"click",innerTextPattern:null!==(l=null===(o=null===(a=e.startTriggers.at(0))||void 0===a?void 0:a.element)||void 0===o?void 0:o.innerTextPattern)&&void 0!==l?l:"",selectAllMatchingElements:null!==(d=null===(u=null===(c=e.startTriggers.at(0))||void 0===c?void 0:c.element)||void 0===u?void 0:u.selectAll)&&void 0!==d&&d}}(e.transaction)),a=(e,t)=>{s((n=>({...n,[e]:t})))},o=e=>{if(e.target instanceof HTMLInputElement){const{name:t,value:n,checked:r}=e.target;a(t,"checkbox"===e.target.type?r:n)}else if(e.target instanceof HTMLTextAreaElement){const{name:t,value:n}=e.target;a(t,n)}};return M("form",{id:e.id,"aria-label":"transaction configuration form",onSubmit:t=>{t.preventDefault(),e.onSubmit(function(e){return Rt({cssSelector:e.selector,innerTextPattern:e.innerTextPattern,eventType:e.eventType,selectAll:e.selectAllMatchingElements})}(i),t)},children:[M("div",{children:[M(Dn,{title:"Selector",tooltip:"CSS selectors are used to identify elements on a page, allowing you to configure transaction triggers\n                         with precision. These selectors precisely pinpoint elements based on attributes, classes, IDs,\n                         and their position within the document structure."}),M(Ln,{value:null===(r=null===(n=null===(t=e.transaction)||void 0===t?void 0:t.startTriggers.at(0))||void 0===n?void 0:n.element)||void 0===r?void 0:r.cssSelector,name:"selector",onInput:o})]}),M("details",{id:"transaction-configuration-start-event-advanced",class:"collapsible",children:M("summary",{class:"sub text-primary",children:"Advanced"})}),M("div",{class:"details",children:M("div",{id:"transaction-configuration-start-event-advanced-container",children:[M("div",{id:"transaction-configuration-start-event-advanced-event-type-container",children:[M("p",{class:"text-primary body-strong",children:"Event type"}),M(ts,{id:"transaction-configuration-start-event-advanced-event-type-click",checked:"click"===i.eventType,label:"Click",name:"eventType",value:"click",onInput:o}),M(ts,{id:"transaction-configuration-start-event-advanced-event-type-keyboard-shortcut",checked:"keyboard-shortcut"===i.eventType,label:"Enter key pressed",name:"eventType",value:"keyboard-shortcut",onInput:o})]}),M("div",{id:"transaction-configuration-start-event-advanced-text-pattern-container",children:M(Ji,{id:"innerTextPattern",label:"Text pattern (optional)",tooltipText:"When a selector matches multiple elements on the page, a text pattern can be used\n                                 to identify a specific element. You can use the asterisk wildcard (*) when\n                                 configuring a text pattern.",tooltipPosition:"top",name:"innerTextPattern","aria-label":"Text pattern (optional)",value:i.innerTextPattern,onInput:o})}),M("div",{children:M(ns,{label:"Select all matching elements",checked:i.selectAllMatchingElements,name:"selectAllMatchingElements",onInput:o})})]})}),M("div",{id:"transaction-configuration-end-event",children:M(yn,{label:"Automatic transaction end detection",tooltipText:"You can export configurations exclusively with auto-end detection.\n                                   To manually configure an end element, utilize the configuration options on the web portal.",tooltipPosition:"left",onToggle:()=>{},disabled:!0})})]})},is=()=>{const[e,t]=xe(),n={onClick:()=>{t({type:Ft}),t({type:Bt})},label:"Back to detection",position:"left"},r={id:"test-transaction",type:"submit",form:"transaction-configuration-form",label:"Test",order:2,position:"right"},i={id:"export-transaction",form:"transaction-configuration-form",type:"submit",label:"Export",position:"right",order:1};return M(tn,{children:[M(Jt,{children:M(dn,{mb:"16px",children:M("p",{class:"heading4 text-primary",children:"Configuring start and end events"})})}),M(Qt,{scrollable:!0,children:e.configurationTransaction&&M(rs,{id:"transaction-configuration-form",transaction:e.configurationTransaction,onSubmit:(n,s)=>{const a=s.submitter;e.configurationTransaction&&a instanceof HTMLButtonElement&&(t({type:Yt,payload:{transaction:n,appId:e.configurationTransaction.appId}}),a.innerText!==r.label?a.innerText===i.label&&t({type:Zt}):t({type:jt}))}})}),M(en,{children:[M(pn,{mt:"16px",mb:"16px",ml:"8px",mr:"8px"}),M(_n,{link:n,secondary:i,primary:r})]})]})},ss=e=>M("div",{class:"value-list",role:"grid",children:e.children}),as=e=>M("div",{id:e.id,class:"value-list-item",role:"row",children:[M("div",{class:"value-list-item-label text-primary body",role:"gridcell",children:e.label}),M("div",{class:"value-list-item-separator text-primary body",role:"gridcell",children:M("svg",{"aria-hidden":"true",children:M("line",{x1:"0",x2:"100%",y1:"50%",y2:"50%"})})}),M("div",{class:"value-list-item-value text-primary body-strong",role:"gridcell",children:e.children?e.children:e.value})]}),os=()=>{var e,t,n,r,i,s,a;const[o,l]=xe();(({postMessage:e,onMessage:t},[n,r])=>{const i=te((e=>{e.extensionTestTransactionOutcome&&("start"!==e.extensionTestTransactionOutcome.eventDetected?"end"===e.extensionTestTransactionOutcome.eventDetected&&r({type:Gt,payload:{outcome:{detectingStartEvent:!1,detectingEndEvent:!1,duration:e.extensionTestTransactionOutcome.duration,status:e.extensionTestTransactionOutcome.status}}}):r({type:Gt,payload:{outcome:{detectingStartEvent:!1,detectingEndEvent:!0}}}))}),[r]),s=()=>{e({type:he.StopTestTransaction}),t.removeEventListener(i)};Q((()=>{if(n.isTestingTransaction)return n.configurationTransaction&&(e({type:he.StartTestTransaction,data:{testTransactionInformation:{appId:n.configurationTransaction.appId,transaction:{id:n.configurationTransaction.id,name:n.configurationTransaction.name,startTriggers:n.configurationTransaction.startTriggers,endTriggers:n.configurationTransaction.endTriggers,isTestTransaction:!0}}}}),t.addEventListener(i)),()=>s()}),[n.isTestingTransaction]),Q((()=>{const e=()=>{s()};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}),[])})(Ee(),[o,l]);const c={label:"Back",onClick:()=>{l({type:Wt}),l({type:Ht}),l({type:Pt})},position:"left"},u={label:"Export",id:"export-transaction",onClick:()=>{o.configurationTransaction?l({type:Zt}):ve("TransactionTesting").error("Configuration transaction is not defined",o)},position:"right",order:2},d={label:"Restart test",id:"restart-test",icon:M(ln,{}),disabled:o.isTestingTransaction,onClick:()=>{l({type:$t})},position:"right",order:1},h=!(null===(e=o.testingTransaction)||void 0===e?void 0:e.detectingStartEvent)&&((null===(t=o.testingTransaction)||void 0===t?void 0:t.detectingEndEvent)||"Completed"===(null===(n=o.testingTransaction)||void 0===n?void 0:n.status));return M(tn,{children:[M(Jt,{children:M(dn,{mb:"16px",children:[M(gn,{variant:"heading4",children:"Testing the transaction"}),M(gn,{variant:"body",children:"Use your browser to freely navigate and we will give you the details of how the transaction you just configured behaves."})]})}),M(Qt,{scrollable:!0,children:M(ss,{children:[M(as,{label:"Start event",children:(null===(r=o.testingTransaction)||void 0===r?void 0:r.detectingStartEvent)?M("div",{class:"transaction-recording-icon"}):M(gn,{id:"transaction-test-start-event-detection",color:"success",children:"Detected"})}),h&&M(as,{label:"End event",children:(null===(i=o.testingTransaction)||void 0===i?void 0:i.detectingEndEvent)?M("div",{class:"transaction-recording-icon"}):M(gn,{id:"transaction-test-end-event-detection",color:"success",children:"Detected"})}),"Completed"===(null===(s=o.testingTransaction)||void 0===s?void 0:s.status)&&M(as,{label:"Duration",children:M(gn,{id:"transaction-test-duration",children:[o.testingTransaction.duration,"s"]})}),(null===(a=o.testingTransaction)||void 0===a?void 0:a.status)&&M(as,{label:"Status",children:M(gn,{id:"transaction-test-status",color:"Completed"===o.testingTransaction.status?"success":"error",children:o.testingTransaction.status})})]})}),M(en,{children:[M(pn,{mt:"16px",mb:"16px",ml:"8px",mr:"8px"}),M(_n,{link:c,primary:u,secondary:d})]})]})},ls=new WeakMap;function cs(e,t){return ls.get(e)&&ls.get(e).get(t)}function us(e,t,n){if(void 0===t)throw new TypeError;const r=cs(t,n);return r&&r.get(e)}function ds(e,t,n,r){if(r&&!["string","symbol"].includes(typeof r))throw new TypeError;(cs(n,r)||function(e,t){const n=ls.get(e)||new Map;ls.set(e,n);const r=n.get(t)||new Map;return n.set(t,r),r}(n,r)).set(e,t)}function hs(e,t,n){return us(e,t,n)?us(e,t,n):Object.getPrototypeOf(t)?hs(e,Object.getPrototypeOf(t),n):void 0}const ps={decorate:function(e,t,n,r){if(!Array.isArray(e)||0===e.length)throw new TypeError;return void 0!==n?function(e,t,n,r){return e.reverse().forEach((e=>{r=e(t,n,r)||r})),r}(e,t,n,r):"function"==typeof t?function(e,t){return e.reverse().forEach((e=>{const n=e(t);n&&(t=n)})),t}(e,t):void 0},defineMetadata:function(e,t,n,r){ds(e,t,n,r)},getMetadata:function(e,t,n){return hs(e,t,n)},getOwnMetadata:function(e,t,n){return us(e,t,n)},hasMetadata:function(e,t,n){return!!hs(e,t,n)},hasOwnMetadata:function(e,t,n){return!!us(e,t,n)},metadata:function(e,t){return function(n,r){ds(e,t,n,r)}}};Object.assign(Reflect,ps),(n=>{const r=document.querySelector("body");r?function(n,r,i){var s,a,o,c;t.__&&t.__(n,r),a=(s="function"==typeof i)?null:i&&i.__k||r.__k,o=[],c=[],N(r,n=(!s&&i||r).__k=function(t,n,r){var i,s,a,o={};for(a in n)"key"==a?i=n[a]:"ref"==a?s=n[a]:o[a]=n[a];if(arguments.length>2&&(o.children=arguments.length>3?e.call(arguments,2):r),"function"==typeof t&&null!=t.defaultProps)for(a in t.defaultProps)void 0===o[a]&&(o[a]=t.defaultProps[a]);return f(t,o,i,s,null)}(m,null,[n]),a||l,l,void 0!==r.ownerSVGElement,!s&&i?[i]:a?null:r.firstChild?e.call(r.childNodes):null,o,!s&&i?i:a?a.__e:r.firstChild,s,c),k(o,n,c)}(n,r):(console.error("Could not render component"),console.error("Is body component found ? ",void 0!==r),console.error("Is renderComponent found ? ","renderComponent"in window))})(M((()=>{const[e,t]=X(zt,qt),{port:n}=(()=>{const[e,t]=J(),n=()=>{const e=Ae().runtime.connect({name:"popup"});e.onDisconnect.addListener(n),t(e)};return Q((()=>(n(),()=>(null==e||e.onDisconnect.removeListener(n),null==e||e.disconnect(),void t(void 0)))),[]),{port:e}})();return M(ye.Provider,{value:n,children:M(we.Provider,{value:[e,t],children:[e.currentView===Nt.EventSummary&&M(In,{}),e.currentView===Nt.SelectTransactionDetectionMode&&M(En,{}),e.currentView===Nt.TransactionInspectingElement&&(e.isDetectingElement?M(Yn,{}):M(Vn,{})),e.currentView===Nt.TransactionDetectingElement&&(e.isDetectingElement?M(Fn,{}):M(Mn,{})),e.currentView===Nt.ExportTransaction&&M(es,{}),e.currentView===Nt.ConfigurationTransaction&&M(is,{}),e.currentView===Nt.TransactionTesting&&M(os,{})]})})}),{}))})()})();
//# sourceMappingURL=detached-monitored-popup.js.map